<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://newzone.top/rss.xml" rel="self" type="application/rss+xml"/>
    <title>FEIFFY's 开源笔记</title>
    <link>https://newzone.top/</link>
    <description>开源工具、效率方法、心理学探索的自我提升笔记，记录并输出一切能让自己提升的知识。</description>
    <language>zh-CN</language>
    <pubDate>Thu, 13 Oct 2022 08:57:34 GMT</pubDate>
    <lastBuildDate>Thu, 13 Oct 2022 08:57:34 GMT</lastBuildDate>
    <generator>vuepress-plugin-feed2</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <item>
      <title>程序员厨艺养成记之从零准备篇</title>
      <link>https://newzone.top/_posts/2019-08-17-programmers-cooking-skills-from-scratch.html</link>
      <guid>https://newzone.top/_posts/2019-08-17-programmers-cooking-skills-from-scratch.html</guid>
      <source url="https://newzone.top/rss.xml">程序员厨艺养成记之从零准备篇</source>
      <pubDate>Sat, 17 Aug 2019 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>上周因为杨紫去看了《中餐厅》这个节目，然后令我惊奇的是王俊凯竟然会做菜，还挺不错的样子。这两年来，附近的吃饭的地方都已经吃遍了，外卖也吃腻了，周末懒在家点外卖很容易就积累4、5个外卖盒子，垃圾太多。一直蠢蠢欲动的做饭心思，加上某人的刺激，我决定这周末开始研究做菜。租的房里除了水电气和燃气灶可以用，其他都没有，所以算是从零开始了。</p>
<h2 id="准备" tabindex="-1"> 准备</h2>
<p>首先，周末之前提前在苏宁易购上买了锅、刀、砧板、锅铲，这些是比较容易想到的，周末正好送到，详细清单如下：</p>
<ul>
<li>炊大皇砧板，￥15，砧板有点小了</li>
<li>张小泉菜刀，￥48，</li>
<li>爱仕达套装锅三件套：汤锅煎锅炒锅不粘，￥99，这个是真的超值
总计：￥172</li>
</ul>
<h2 id="买菜" tabindex="-1"> 买菜</h2>
<p>周六一早起来出来买菜，逛了两圈菜场，买了：</p>
<ul>
<li>西红柿</li>
<li>土豆</li>
<li>大白菜</li>
<li>姜</li>
<li>葱（送的）</li>
<li>辣椒
总计：￥30</li>
</ul>
<h2 id="超市" tabindex="-1"> 超市</h2>
<p>然后去超市买了很多日用品和调料：</p>
<ul>
<li>金龙鱼油，￥34.9，这个已经算是比较小的了</li>
<li>盐，￥2.3</li>
<li>味精，￥9.6</li>
<li>米，￥15，7斤左右</li>
<li>酱油，￥7.2</li>
<li>陈醋，￥8.3</li>
<li>保鲜膜，￥9.9</li>
<li>盘子*2，￥30.8</li>
<li>碗，￥12.8
总计：￥132</li>
</ul>
<p>其实菜不贵，不过那些贵的日用品也是长期用的，其实不亏。</p>
<p>然后准备做饭了，但是电饭锅的电源线呢？？？这个旧的电饭锅是舍友之前带来的，电源线不见了。时间也已经中午，做饭肯定来不及了，所以就在外面随便吃点，然后去小米之家看看电饭煲吧，不再纠结了。</p>
<h2 id="小米之家" tabindex="-1"> 小米之家</h2>
<p>有个299的没货了，1.6L又太小，4L的用不着，所以就选了这个，为了下午能做上饭，一路拎回家，我也是醉了。</p>
<ul>
<li>米家 IH 电饭煲 3L，￥399</li>
</ul>
<h2 id="超市-1" tabindex="-1"> 超市</h2>
<p>再次准备做饭之前，又检查了遍需要的东西，发现还有必需品没有，列了一个清单，一个个跑超市买，不是所有的东西超市都有，还好附近有三家超市：</p>
<ul>
<li>调料盒</li>
<li>抹布</li>
<li>保鲜盒，这个属于临时顺便买的，想着可能会用到</li>
<li>鸡蛋，万能的食材啊，菜场忘记买了</li>
<li>青椒，万能的食材啊，菜场也忘记买了</li>
<li>削皮器，没这个土豆皮真拿你没办法</li>
<li>挂钩，其实应该买一个可以挂一排的那种
总计：￥48.4</li>
</ul>
<h2 id="超市-2" tabindex="-1"> 超市</h2>
<p>今天早晨又去了趟超市，将昨天的缺失补了：</p>
<ul>
<li>蒜瓣，看了好多菜谱需要这个</li>
<li>杏仁百合粥（早晨用）</li>
<li>袋装酸豇豆，涪陵榨菜我拿了一包，后来又依依不舍地放下了，毕竟这种高端食材不是我能消费得起的。</li>
<li>大的汤碗</li>
<li>大的汤勺</li>
<li>梨
总计：￥70.8</li>
</ul>
<h2 id="其他" tabindex="-1"> 其他</h2>
<p>晚上吃饭发现连凳子都没有，因此，买了两个凳子</p>
<ul>
<li>凳子*2，￥60</li>
</ul>
<p>总的来说，已经投入巨资￥911了，没有回头路了。自己买的菜，含着泪也要做出来并吃完并还要说好吃。</p>
<p>其他可能需要但还没确定买的东西：</p>
<ul>
<li>香油，非必须，主要是挺贵的，实在需要了再买吧</li>
<li>丝瓜瓢，非必须，看网上说这个洗东西会洗很干净，但现在好像没必要</li>
<li>水槽过滤网，看网上说很方便，跑了两家超市都没有，先算了吧</li>
<li>围腰，这个好像是需要的，只能网购</li>
<li>夹子，用来夹住已经拆袋盐、味精袋子，后来发现自己有</li>
<li>配菜碟子，现在直接吃酸豇豆袋子，实在不方便，碗又太大了，跑了几家超市都没有，只能网上买了。</li>
</ul>
<h2 id="菜品" tabindex="-1"> 菜品</h2>
<h3 id="西红柿蛋汤-超级简单版" tabindex="-1"> 西红柿蛋汤（超级简单版）</h3>
<ul>
<li>材料：西红柿2个，鸡蛋2-3个，盐，油，葱花</li>
<li>步骤：
<ol>
<li>西红柿切片，葱切碎，鸡蛋搅好</li>
<li>锅中倒入少许油，葱和西红柿下锅翻炒</li>
<li>倒入清水烧开</li>
<li>放入鸡蛋液</li>
<li>放入少许盐</li>
<li>完成</li>
</ol>
</li>
</ul>
<p><img src="/blog/imgs/eed7dd37bb17c14a480848bd57f29976.jpg" alt="" loading="lazy"></p>
<h3 id="青椒煎蛋" tabindex="-1"> 青椒煎蛋</h3>
<ul>
<li>材料：青椒2个，鸡蛋2个，盐，油</li>
<li>步骤：
<ol>
<li>将鸡蛋和切碎的青椒搅拌，加入适当的盐</li>
<li>锅中倒入<code>适量的油</code>，倒入青椒鸡蛋液，以<code>小火</code>慢煎</li>
<li>一面煎好有香味飘出，可以翻转另一面</li>
<li>完成</li>
</ol>
</li>
</ul>
<p><img src="/blog/imgs/68a1ff707d01370b83d47ac10f3451f2.jpg" alt="" loading="lazy"></p>
<h3 id="炒酸辣白菜" tabindex="-1"> 炒酸辣白菜</h3>
<p><img src="/blog/imgs/eadda9029e3a58a297db9325726a11a9.jpg" alt="" loading="lazy"></p>
<h3 id="家常豆腐" tabindex="-1"> 家常豆腐</h3>
<p>// TODO</p>
<h3 id="煎土豆" tabindex="-1"> 煎土豆？</h3>
<p><img src="/blog/imgs/861848e71839c4ef6d641cfe07b96d0f.jpg" alt="" loading="lazy"></p>
]]></content:encoded>
      <enclosure url="https://newzone.top/blog/imgs/eed7dd37bb17c14a480848bd57f29976.jpg" type="image/jpeg"/>
    </item>
    <item>
      <title>杭州两日</title>
      <link>https://newzone.top/_posts/2019-11-02-hang-zhou-two-days.html</link>
      <guid>https://newzone.top/_posts/2019-11-02-hang-zhou-two-days.html</guid>
      <source url="https://newzone.top/rss.xml">杭州两日</source>
      <pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2 id="出发" tabindex="-1"> 出发</h2>
<p>大学舍友群里，不知为何有人突然提起去杭州（小胖的工作地点）玩一下，说走就走。</p>
<p>上一次去杭州已经是四年前的事情，留下了很深的印象，这一次去玩一是见朋友，二是印证当初所见风景的变化。</p>
<p>南京到杭州的高铁很多，选了7点半的一班，90分钟后就到了，然后直接坐地铁4号线直达舍友所在的地方——联庄。</p>
<h2 id="钱塘江" tabindex="-1"> 钱塘江</h2>
<p>琐事不必多提，我们来到钱塘江边，看江面以及两面的风景：</p>
<p><em><strong>钱塘江，江水浑浊</strong></em></p>
<p><img src="/blog/imgs/3c1b64c1e0a48299bed51cfa5c07e02c.jpg" alt="" loading="lazy"></p>
<p>然后，我们骑单车驶过钱塘江大桥，桥面可供行人走的路实在太窄，骑着车在江面上心底委实害怕，我们计划到下图中江对面的塔那边看看：</p>
<p><em><strong>钱塘江大桥</strong></em></p>
<p><img src="/blog/imgs/061a342293982b36541bc02478665ab5.jpg" alt="" loading="lazy"></p>
<p><em><strong>桥上所摄，心里怕怕</strong></em></p>
<p><img src="/blog/imgs/7de8990ca18a12646cbc840a68173a45.jpg" alt="" loading="lazy"></p>
<h2 id="六合塔" tabindex="-1"> 六合塔</h2>
<p><img src="/blog/imgs/650c821ad2f760d3960a5b811bcfd8c8.jpg" alt="" loading="lazy"></p>
<p>先到了六合塔，我们现在塔下周围逛了一圈，这里除了这座12层巨塔以外，还有几十座小型的塔隐藏在山丘林间小径两边：</p>
<p><em><strong>开元寺 宝篋印经式石塔 / 光孝寺 东西铁塔 / 碧云寺 金刚宝座塔</strong></em></p>
<p><img src="/blog/imgs/cc39c339079b46fcdb4d2780373cc7a5.jpg" alt="" loading="lazy">
<img src="/blog/imgs/31d020318cef9de6f9103eb076ab6d6e.jpg" alt="" loading="lazy">
<img src="/blog/imgs/21a707332db61af8da8ac1b6ead5e427.jpg" alt="" loading="lazy"></p>
<p>数量很多，不可胜记，再来一组：</p>
<p><em><strong>海宝塔 / 佛光寺祖师塔 / 小雁塔</strong></em></p>
<p><img src="/blog/imgs/7c1e44f34c52597605241cacd581034b.jpg" alt="" loading="lazy">
<img src="/blog/imgs/44faa52081d79b45abf139cd6c803e16.jpg" alt="" loading="lazy">
<img src="/blog/imgs/5ce2c676d4a6c53bfb78ac981e2f9f73.jpg" alt="" loading="lazy"></p>
<p>最后，我们登上六合塔：</p>
<p><em><strong>塔上看钱塘江大桥</strong></em></p>
<p><img src="/blog/imgs/30d905578e0354eecbc28749065412f0.jpg" alt="" loading="lazy"></p>
<p>这里还有一个小插曲，越往上走，塔上面的走廊倾斜越厉害，一度不敢站在窗边上拍照，还挺刺激的。</p>
<h2 id="西湖·夜" tabindex="-1"> 西湖·夜</h2>
<p>下午回去休息了一会儿，等另一个朋友到时，一起去晚上的西湖边上走走。</p>
<p>晚上的西湖边还好，人没有想象得那么多。湖边灯光耀眼，拍照不易。</p>
<p><em><strong>西湖的水</strong></em></p>
<p><img src="/blog/imgs/a4aba453ca4f7bd2adfbc6442f6a0c26.jpg" alt="" loading="lazy"></p>
<p><img src="/blog/imgs/888e96599a26ba9e1a8639ed3b740642.jpg" alt="" loading="lazy"></p>
<p><em><strong>最好的我们</strong></em></p>
<p><img src="/blog/imgs/9d2ed939b145aba5fca722e437f64850.jpg" alt="" loading="lazy"></p>
<p>等了一会儿，看了音乐喷泉的表演，然后就回去了。</p>
<h2 id="爬山" tabindex="-1"> 爬山</h2>
<p>第二天，早起出门爬山，访真迹寺及云栖竹径景区。</p>
<p>爬山辛苦不必多提，到半山就下来了，下山路一路竹林，连绵的青翠。</p>
<p><img src="/blog/imgs/345606cf063bba96bf9d355ff5031131.jpg" alt="" loading="lazy"></p>
<p>小径两旁随处可见的数百年的大树，最久的一棵树有1030年，令人大开眼界：</p>
<p><img src="/blog/imgs/8940b85a1943c37d56cf6c7ad12b14a4.jpg" alt="" loading="lazy"></p>
<p><em><strong>山下</strong></em></p>
<p><img src="/blog/imgs/cac2be898383887ea0b550293e0240d1.jpg" alt="" loading="lazy"></p>
<h2 id="西溪湿地公园" tabindex="-1"> 西溪湿地公园</h2>
<p>下午去西溪。</p>
<p>「他」留下了「西溪国家湿地公园」这几个字：</p>
<p><img src="/blog/imgs/76c2da7b776d9b2a67c468e7bee3d7cb.jpg" alt="" loading="lazy"></p>
<p>徜徉街巷，西溪没变，还是那个感觉。那时是春天，百花盛开，此刻是秋天，野趣盎然。</p>
<p><img src="/blog/imgs/e84fc8abd421616d458e5488e49b6285.jpg" alt="" loading="lazy"></p>
<p><em><strong>西溪且留下</strong></em></p>
<p><img src="/blog/imgs/4c6e5a94c8cae31c95a5d702684553bb.jpg" alt="" loading="lazy"></p>
<h2 id="归去" tabindex="-1"> 归去</h2>
<p>两日之旅到此为止了，中途发生的一些趣事不及详述，简单图文记录以纪念。</p>
]]></content:encoded>
      <enclosure url="https://newzone.top/blog/imgs/3c1b64c1e0a48299bed51cfa5c07e02c.jpg" type="image/jpeg"/>
    </item>
    <item>
      <title>泡面了解一下？</title>
      <link>https://newzone.top/_posts/2019-12-05-getting-to-know-about-instant-noodles.html</link>
      <guid>https://newzone.top/_posts/2019-12-05-getting-to-know-about-instant-noodles.html</guid>
      <source url="https://newzone.top/rss.xml">泡面了解一下？</source>
      <pubDate>Thu, 05 Dec 2019 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>今天在V站上看到一个有趣的话题，甩个链接 <a href="https://www.v2ex.com/t/624737?p=1" target="_blank" rel="noopener noreferrer">好吃的泡面/方便面类食品推荐？ - V2EX</a>，看到了V友们说的各个种类的方便面，有的我第一次听说，顿时感觉打开了新世界，突然有了一个想法，吃遍……。</p>
<h2 id="v友推荐" tabindex="-1"> V友推荐</h2>
<p>先大概列一下各位V友所提及的各个泡面/方便面：</p>
<ul>
<li>
<p><strong>和厨</strong></p>
</li>
<li>
<p>泰国的有几款<strong>冬阴功</strong>味的不错，也不贵</p>
</li>
<li>
<p>袋装是不是叫<strong>出前一丁</strong>？面和调料口味都比较淡，我周围的人都说不好吃。我有时候用来当挂面煮吃。另外，也比较贵。</p>
</li>
<li>
<p><strong>汤达人</strong>；一菜一面；</p>
</li>
<li>
<p><strong>出前一丁黑蒜油猪骨汤味</strong>，泡煮炒都很好吃</p>
</li>
<li>
<p><strong>出前一丁</strong></p>
</li>
<li>
<p>出前一丁主要面相对好，搭配其他自己炒煮会好吃很多</p>
</li>
<li>
<p><strong>合味道</strong>的话是日清的，所以日清别的面楼主都可以试试，最常见的就是大家提到的出前一丁了，个人比较喜欢<strong>元祖鸡汤拉面</strong>和<strong>炒面大王</strong>（已停产），还有拉王也不错。</p>
</li>
<li>
<p>汤达人</p>
</li>
<li>
<p><strong>五谷道场</strong></p>
</li>
<li>
<p><strong>火鸡面</strong>如果你能接受辣味的话其实挺香的。。</p>
</li>
<li>
<p>吃了只能煮的面之后逐渐就不想吃可以泡的面了，面条不好吃。</p>
</li>
<li>
<p>推荐<strong>农心辛拉面</strong>，<strong>三养火鸡面</strong></p>
</li>
<li>
<p>只吃煮面，演变路径 <strong>汤达人</strong>(所有)-&gt;<strong>农心</strong>(部队锅除外)-&gt;<strong>出前一丁</strong>(黑蒜油、麻油别的不好吃) 。偶尔吃<strong>统一老坛酸菜</strong>，中间试过五谷道场不好吃，农心韩式部队锅吃着想吐，康师傅的看看就好</p>
</li>
<li>
<p>出前一丁？一包盐能给你咸哭</p>
</li>
<li>
<p>煮面可以吗？可以的话提名一个辛拉面！</p>
</li>
<li>
<p>现在也就偶尔晚上加个蛋煮面，基本就汤达人了，出前一丁以前吃太淡，辛拉面还行，但和康师傅煮出来没啥差还不如康师傅，五谷道场非油炸可能健康点，但面味道还是有差异看你接受程度了，以前上学吃过日清的海鲜面好像也是非油炸的影响深刻，但后来再没见过</p>
</li>
<li>
<p><strong>合味道</strong></p>
</li>
<li>
<p><strong>拉王 福冈辣豚骨风味</strong></p>
</li>
<li>
<p><strong>日清</strong>，出前一丁</p>
</li>
<li>
<p><strong>汤达人</strong> 黄色的那个 酸酸辣辣豚骨面？</p>
</li>
<li>
<p>啊还有个叫 <strong>KOKA</strong> 的拌面 我也觉得好吃</p>
</li>
<li>
<p><strong>金博家</strong> 葱葱回魂辣汤面</p>
</li>
<li>
<p><strong>百胜厨</strong>，koko，汤达人。尤其百胜厨，煮出来加点辅料，不输餐厅出品</p>
</li>
<li>
<p><strong>一兰拉面</strong>， 比较贵</p>
</li>
<li>
<p><strong>辛拉面</strong> +1</p>
</li>
<li>
<p>狗东优惠的时候 cj 的即食米饭不错</p>
</li>
<li>
<p>bug 价 7 元左右一碗 黑椒牛肉的 有蔬菜 有米饭 常温保存 微波炉打一下就行</p>
</li>
<li>
<p><strong>康师傅</strong>？</p>
</li>
<li>
<p>要便宜就自己买煮的<strong>挂面</strong></p>
</li>
<li>
<p><strong>白象大骨面</strong></p>
</li>
<li>
<p><strong>碗仔面</strong></p>
</li>
<li>
<p>我买的最贵的就是 汤达人..</p>
</li>
<li>
<p>便宜的就** 豫竹 白象**，都有一块一袋的</p>
</li>
<li>
<p><strong>乌龙面</strong>超级好吃</p>
</li>
<li>
<p><strong>日清</strong>全部, <strong>汤达人</strong>, 要是有心情费点功夫开火煮的话可以买寿桃的速食面, 加点牛丸培根小白菜什么的煮煮可以很大程度提升用户体验... 那款车仔面挺好的便宜还带料包, 泡了扮扮就顶一顿饭</p>
</li>
<li>
<p>这个淘宝上没找到，不知道和上面说的拉王是不是一个产品，但是我看包装是不一样的。这个面是那种圆形的粗面，煮出来有嚼劲。这个味道就是豚骨加黑色的油，里面还有芝麻，很香。每次先电磁炉 1000 煮两分钟，然后打一个鸡蛋，转 800，就能吃到配图上面的半熟蛋了。</p>
</li>
<li>
<p>出前一丁的话，我吃过的都是那种普通面板加一小包调料，感觉就是蟹黄面那种水平的啊，难道还有别的产品线？（上面的栗子头不会去“白嫖”啊）</p>
</li>
<li>
<p>好的方便面都变成煮的了，而不是泡的。所以，买<strong>挂面</strong>自己煮吧。</p>
</li>
<li>
<p>汤达人还行 偶尔吃吃</p>
</li>
<li>
<p>拉王</p>
</li>
<li>
<p>泡面无所谓 但是补充的蔬菜包要有 以前买<strong>泡面伴侣</strong> 一小包榨菜那么多的脱水蔬菜</p>
</li>
<li>
<p>和厨好多人推荐，然后买了发现上当了，冻干面还没普通泡面好吃。。。</p>
</li>
<li>
<p>当然是<strong>幸运方便面</strong>，干吃也美味</p>
</li>
<li>
<p><strong>火鸡面</strong>，挺好吃的，不能吃辣就少放点那个酱料。剩下的第二天可以自己搞个面糊摊饼子蘸着吃，超级好吃</p>
</li>
<li>
<p><strong>豫竹</strong>干吃的面挺好吃的 比那个老北京强</p>
</li>
<li>
<p>煮<strong>螺蛳粉</strong>比泡面好吃多了</p>
</li>
<li>
<p><strong>汤达人日式豚骨拉面</strong></p>
</li>
<li>
<p>不过感觉没有前几年好吃了，不知道是不是因为吃多了没感觉了</p>
</li>
<li>
<p>拉王已停产</p>
</li>
<li>
<p><strong>新版拉王</strong>就是个高配版合味道 面饼不如之前的拉王</p>
</li>
<li>
<p>海底捞那个小火锅</p>
</li>
<li>
<p>&quot;想要便宜一些&quot;? 大今野 比唐师傅 /统一 便宜。</p>
</li>
<li>
<p>国产拉王停产了，可惜，好像是日清不给今麦郎做了，</p>
</li>
<li>
<p>推荐好欢乐的螺蛳粉， 速冻水饺， 得益热水泡的方便米饭，一菜一面番茄味</p>
</li>
<li>
<p>日清的杯面，海鲜口味的</p>
</li>
<li>
<p>上 tb 搜索“辛拉面餐饮包”。</p>
</li>
<li>
<p>五谷道场的<strong>番茄牛肉面</strong>超好吃，而且也不贵</p>
</li>
<li>
<p>三全 一碗饭</p>
</li>
<li>
<p>五！谷！道！场！</p>
</li>
<li>
<p><strong>汤达人的酸酸辣辣豚骨面</strong>天下第一</p>
</li>
<li>
<p>我说个冷门的，肉蓉面。只能煮，配电菜叶子。也可以买点热干面调料。</p>
</li>
<li>
<p>汤达人不错，味道可以就是有些小贵 8.8</p>
</li>
<li>
<p><strong>飞碟炒面</strong>，合味道。家中常备</p>
</li>
<li>
<p>要便宜的话，<strong>华丰三鲜伊面</strong>，大约 1 块</p>
</li>
<li>
<p>华丰本身味道也不错，再买一些调味品，比如藤椒油、油泼辣子、蒜酱、芝麻酱之类，吃烦了自己换口味</p>
</li>
<li>
<p><strong>百胜厨叻沙拉面</strong></p>
</li>
<li>
<p>没有红烧牛肉面吗</p>
</li>
<li>
<p><strong>辛拉面</strong> <strong>安城汤面</strong></p>
</li>
<li>
<p><strong>康师傅</strong>说真的蛮便宜管饱</p>
</li>
<li>
<p>蹩问了，<strong>康师傅</strong>最香</p>
</li>
<li>
<p>个人不太喜欢日式的，所以推荐你<strong>统一的酱拌面</strong></p>
</li>
<li>
<p>福满多</p>
</li>
<li>
<p>泡面、煮面 楼上各位大佬都提了很多很棒的，我就不多嘴了。我这里推荐一款干脆面：<strong>豫竹的酥司令</strong>！酥司令！酥司令！（他家还有一款脆司令比较脆，没这个酥，注意区别）。酥司令我都是整箱买来当零食吃的，真好吃，大爱火鸡味（不辣，不是火鸡面的那种）。</p>
</li>
<li>
<p>偶尔吃吃<strong>火鸡面</strong>，感觉挺爽，但是看楼主的意思是要囤货吃泡面吗？吃多了我都想吐</p>
</li>
<li>
<p><strong>日清的新意派</strong></p>
</li>
<li>
<p><strong>日清始祖鸡汤拉面</strong></p>
</li>
<li>
<p>汤达人 +1</p>
</li>
<li>
<p><strong>食族人</strong>，真心不错，有很多口味我都试过了，推荐 3 种：麻辣爆肚、私房牛肉面、螺蛳粉。</p>
</li>
<li>
<p><strong>顾大嫂拌面</strong>，这个面条很棒，拌料挺香的，虽说是泡面，但我一般煮着吃更得劲。买了三箱</p>
</li>
<li>
<p>自己下挂面又不难，生抽老抽胡椒粉汤，面汤一冲就是<strong>阳春面</strong></p>
</li>
<li>
<p><strong>越南林富记的河粉</strong>不错</p>
</li>
<li>
<p>是啊，原来那种绿色包装的 2~3 块一袋，汤很浓，煮着吃很好吃。停产之后，现在网上卖的拉王价格翻了一番</p>
</li>
<li>
<p>学习了学习了，<strong>辛拉面</strong>不错，就是有点儿贵，5-6 块一包，尝试下大家说的其他的，希望能找到性价比高的面</p>
</li>
<li>
<p><strong>白象猪骨面</strong> 煮着是真的好吃</p>
</li>
<li>
<p><strong>和厨的番茄鸡蛋面</strong>吃着真不错 汤泡的特正</p>
</li>
<li>
<p>别说了楼主，看了这篇帖子，我已经 jd 下单了近 100 块的泡面了…</p>
</li>
<li>
<p>我喜欢吃<strong>公仔面</strong> 没那么多油 清淡一点</p>
</li>
</ul>
<h2 id="尝试-持续更新" tabindex="-1"> 尝试（持续更新）</h2>
<h3 id="辛拉面辣白菜杯面" tabindex="-1"> 辛拉面辣白菜杯面</h3>
<p>@2019.12.05</p>
<p>下班回家超市选了半天，今天就决定是它了：</p>
<p><img src="/blog/imgs/b414a8e5fb2dcacee4c599ea5c5b272f.jpg" alt="" loading="lazy"></p>
<p>一小杯70克，6块钱，比一般的面要贵一些，主要是量太少了，不够吃的，还好我机智买了一根100克的香肠作为搭档。</p>
<p><img src="/blog/imgs/77de4f5fb27b1c3ffa3ad7ec07eb1652.jpg" alt="" loading="lazy"></p>
<p>拆开之后，里面有一个蔬菜包和调味包，全部放进去，泡水等着吧。普及一下，辛拉面这种一份杯面是油炸型的，所以直接开水泡就可以吃了。还有其他大份袋装或盒装的有的是非油炸型的，需要水煮才好吃，开水泡的话不容易熟。</p>
<p><strong>食后评价</strong>：打开之后第一下闻到的辣白菜味道很好闻，开水放满了导致面有点烂，然后太烫了，总体吃起来味道比较淡，汤感觉还好。由于消灭过快导致还没有来得及尝出味道就结束了，下次要买个大份的。</p>
<h3 id="食族人麻辣爆肚粉" tabindex="-1"> 食族人麻辣爆肚粉</h3>
<p>@2019.12.07</p>
<p>我去，我以为买的是面，直到打开的时候才发现是粉丝：</p>
<p><img src="/blog/imgs/a68535f0c9aced09a6b442caa418b999.jpg" alt="" loading="lazy">
// pic
<img src="/blog/imgs/22e4bf3b18ca84f36ee2c52e5075258d.jpg" alt="" loading="lazy"></p>
<p><img src="/blog/imgs/6965ecc6ee26c1d704e93420336d8ab4.jpg" alt="" loading="lazy"></p>
<p>这一杯150克，粉饼60克+配料90克，有6个配料包！（调味粉包、调味酱包、菜包、芝麻酱包、辣椒油包、肚包）。。。。这个要用大碗来泡。</p>
<p><strong>食后评价</strong>：感觉还可以，有麻辣粉丝那个感觉，有点辣，所以汤就不喝了。粉丝的缺点就是吃完没有饱的感觉，这个也同样。考虑到它的价格是12.5，算起来还是不值的。</p>
<h3 id="汤达人豚骨拉面" tabindex="-1"> 汤达人豚骨拉面</h3>
<p>@2019.12.07</p>
<p>这是汤达人的豚骨拉面杯面，面饼+调料包83克：</p>
<p><img src="/blog/imgs/3f5939812dd6ec3cbfdc4ab6e62be9bb.jpg" alt="" loading="lazy">
<img src="/blog/imgs/df5b7fa768d946b4624fb6f6b5bcd04c.jpg" alt="" loading="lazy"></p>
<p>显然也肯定吃不饱（本来中午就没吃饱）。这次有经验了，水不会倒满。</p>
<p><strong>食后评价</strong>：我发现了，杯面都有一个缺点——水太烫了，热量不能及时散去，这是杯口小的缘故。第一下味道很好闻，由于烫还是没有感觉到味道，感觉跟之前的辛拉面区别不大。看来我与杯面绝缘了。</p>
]]></content:encoded>
      <enclosure url="https://newzone.top/blog/imgs/b414a8e5fb2dcacee4c599ea5c5b272f.jpg" type="image/jpeg"/>
    </item>
    <item>
      <title>phpmyadmin not found</title>
      <link>https://newzone.top/_posts/2016-11-16-phpmyadmin-not-found.html</link>
      <guid>https://newzone.top/_posts/2016-11-16-phpmyadmin-not-found.html</guid>
      <source url="https://newzone.top/rss.xml">phpmyadmin not found</source>
      <pubDate>Wed, 16 Nov 2016 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>在 ubuntu 14.04 中使用：</p>
<div><pre><code>$ <span>sudo</span> <span>apt-get</span> <span>install</span> phpmyadmin
</code></pre><div aria-hidden="true"><div></div></div></div><p>安装好 phpmyadmin 之后，打开 <a href="http://localhost/phpmyadmin" target="_blank" rel="noopener noreferrer">http://localhost/phpmyadmin</a> ，不能访问，显示 404 Not Found，这不是逗我吗？</p>
<p>搜索一番解决该问题：</p>
<p>打开配置文件</p>
<div><pre><code>$ <span>sudo</span> gedit /etc/apache2/apache2.conf
</code></pre><div aria-hidden="true"><div></div></div></div><p>在最后添加一行：</p>
<div><pre><code>Include /etc/phpmyadmin/apache.conf
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后重启apche2</p>
<div><pre><code>$ <span>sudo</span> <span>service</span> apache2 restart
</code></pre><div aria-hidden="true"><div></div></div></div><h3 id="参考" tabindex="-1"> 参考</h3>
<ul>
<li><a href="http://askubuntu.com/questions/55280/phpmyadmin-is-not-working-after-i-installed-it" target="_blank" rel="noopener noreferrer">http://askubuntu.com/questions/55280/phpmyadmin-is-not-working-after-i-installed-it</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Ubuntu 16.04 LAMP server 指南 - 配置 Apache2.4,PHP7,和MariaDB（而不是MySQL）</title>
      <link>https://newzone.top/_posts/2016-12-09-install-apache-with-php-and-mysql-on-ubuntu-16-04-lamp.html</link>
      <guid>https://newzone.top/_posts/2016-12-09-install-apache-with-php-and-mysql-on-ubuntu-16-04-lamp.html</guid>
      <source url="https://newzone.top/rss.xml">Ubuntu 16.04 LAMP server 指南 - 配置 Apache2.4,PHP7,和MariaDB（而不是MySQL）</source>
      <pubDate>Fri, 09 Dec 2016 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>原文：<a href="https://www.howtoforge.com/tutorial/install-apache-with-php-and-mysql-on-ubuntu-16-04-lamp/" target="_blank" rel="noopener noreferrer">https://www.howtoforge.com/tutorial/install-apache-with-php-and-mysql-on-ubuntu-16-04-lamp/</a></p>
<p>昨天在虚拟机里面安装ubuntu server ，然后配置php开发环境，参考了这篇文章，一次性把所有的东西都安装配置好了，所以想把这篇文章记录下来。希望能够帮助到初学者一次性搞定这些配置（避免纠结），然后就可以愉快地编程了，嘿嘿。</p>
<p>以下是我翻译的内容，完全对照原文，没有自己改动的部分（因为原文已经很完美了）：</p>
<p><strong>LAMP</strong> 是 Linux,Apache,MySQL,PHP的缩写。本文教你如何在 ubuntu 16.04(Xenial Xerus) server 上安装 Apache2，PHP7（mod_php）和MySQL。此外，还将安装 PHPMyAdmin 工具用于管理 MySQL。</p>
<h3 id="说明" tabindex="-1"> 说明</h3>
<p>本文中，我使用 <a href="http://server1.example.com" target="_blank" rel="noopener noreferrer">server1.example.com</a> 作为主机名，IP为：192.168.1.100。你如果跟我不同，在相应的地方替换就行了。</p>
<p>我推荐使用 minimal Ubuntu server 作为本文操作的基础。</p>
<p>我在root权限下运行所有的命令，所以确保你使用的是root账户：</p>
<div><pre><code>$ <span>sudo</span> <span>su</span>
</code></pre><div aria-hidden="true"><div></div></div></div><h3 id="安装-mariadb-作为-mysql-的替换" tabindex="-1"> 安装 MariaDB 作为 MySQL 的替换</h3>
<p>我安装的是 MariaDB 而不是 MySQL。MariaDB 是 MySQL 的作者 Monty Widenius 所维护的 MySQL 分支版本。MariaDB 兼容 MySQL，并且增加了功能，提高了性能。运行下面的命令来安装 MariaDB-server 和 client:</p>
<div><pre><code>$ <span>apt-get</span> <span>install</span> mariadb-server mariadb-client
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后设置 MariaDB 的 root 密码：</p>
<div><pre><code>$ mysql_secure_installation
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后，出现一些提示,按照红色提示来操作就行了：</p>
<div><pre><code>Enter current password <span>for</span> root <span>(</span>enter <span>for</span> none<span>)</span>: <span>&lt;</span>-- press enter
Set root password? <span>[</span>Y/n<span>]</span> <span>&lt;</span>-- y
New password: <span>&lt;</span>-- Enter the new MariaDB root password here
Re-enter new password: <span>&lt;</span>-- Repeat the password
Remove anonymous users? <span>[</span>Y/n<span>]</span> <span>&lt;</span>-- y
Disallow root login remotely? <span>[</span>Y/n<span>]</span> <span>&lt;</span>-- y
Reload privilege tables now? <span>[</span>Y/n<span>]</span> <span>&lt;</span>-- y
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>使用 mysql 命令测试是否能登录 MariaDB：</p>
<div><pre><code>$ mysql <span>-u</span> root <span>-p</span>
</code></pre><div aria-hidden="true"><div></div></div></div><p>再输入上面设置 root 密码，就会出现如下所示：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209182512710-1592568295.png" alt="" loading="lazy"></p>
<p>要离开 MariaDB shell，输入 quit 和 回车键就行了。</p>
<h3 id="安装-apache-2-4" tabindex="-1"> 安装 Apache 2.4</h3>
<p>Apache 2 可以直接从 Ubuntu 包中获取，只要这样：</p>
<div><pre><code>$ <span>apt-get</span> <span>install</span> apache2
</code></pre><div aria-hidden="true"><div></div></div></div><p>现在打开浏览器，输入 <a href="http://192.168.1.100" target="_blank" rel="noopener noreferrer">http://192.168.1.100</a> ，就能看到 Apache 2 默认页面：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209182823679-1160699445.png" alt="" loading="lazy"></p>
<p>apache 默认文章根目录是 /var/www/html，其主要配置文件为：/etc/apache2/apache2.conf。其配置系统的说明文档在 /usr/share/doc/apache2/README.Debian.gz.</p>
<h3 id="安装-php-7" tabindex="-1"> 安装 PHP 7</h3>
<p>安装 PHP 7 和 Apache PHP 模块：</p>
<div><pre><code>$ <span>apt-get</span> <span>install</span> php7.0 libapache2-mod-php7.0
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后重启 Apache</p>
<div><pre><code>$ systemctl restart apache2
</code></pre><div aria-hidden="true"><div></div></div></div><h3 id="测试-php-获得一些细节信息" tabindex="-1"> 测试 PHP 获得一些细节信息</h3>
<p>默认web站点的文档根目录是 /var/www/html ，我在该目录创建一个info.php文件，然后在浏览器中访问它。这个文件能够显示有关PHP安装的详细信息。</p>
<div><pre><code>$ <span>vim</span> /var/www/html/info.php
</code></pre><div aria-hidden="true"><div></div></div></div><p>输入文件内容：</p>
<div><pre><code><span><span>&lt;?php</span>
<span>phpinfo</span><span>(</span><span>)</span><span>;</span>
</span></code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>改变info.php文件的所有者为 www-data 用户和组</p>
<div><pre><code>$ <span>chown</span> www-data:www-data /var/www/html/info.php
</code></pre><div aria-hidden="true"><div></div></div></div><p>现在我们可以在浏览器中访问 <a href="http://192.168.1.100/info.php" target="_blank" rel="noopener noreferrer">http://192.168.1.100/info.php</a> ，结果如下图所示：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209184720585-809940705.png" alt="" loading="lazy"></p>
<p>如你所看到的，PHP7.0 正在运行，从 Server API 行可以看出，它是通过 Apache 2.0 Handler 运行的，继续向下滚动页面，你就看见所有已经启用的模块。MySQL并不在其中，这是因为我们还没有对PHP添加MySQL/MariaDB支持。</p>
<h3 id="php-启用-mysql-mariadb-支持" tabindex="-1"> PHP 启用 MySQL / MariaDB 支持</h3>
<p>为了使 PHP 支持 MySQL，可以安装 php7.0-mysql 包。同时也可以安装其他所需要的 PHP 模块，使用下面命令来搜索可用的 PHP 模块：</p>
<div><pre><code>$ <span>apt-cache</span> search php7.0
</code></pre><div aria-hidden="true"><div></div></div></div><p>选择一些模块，安装之：</p>
<div><pre><code>$ <span>apt-get</span> <span>-y</span> <span>install</span> php7.0-mysql php7.0-curl php7.0-gd php7.0-intl php-pear php-imagick php7.0-imap php7.0-mcrypt php-memcache  php7.0-pspell php7.0-recode php7.0-sqlite3 php7.0-tidy php7.0-xmlrpc php7.0-xsl php7.0-mbstring php-gettext
</code></pre><div aria-hidden="true"><div></div></div></div><p>重启 Apache2</p>
<div><pre><code>$ systemctl restart apache2
</code></pre><div aria-hidden="true"><div></div></div></div><p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209190557179-563578384.png" alt="" loading="lazy"></p>
<p>如上图所示，PHP已经启用了 MySQL/MariaDB 支持。</p>
<h3 id="安装-apcu-php-缓存来加速-php-运行" tabindex="-1"> 安装 APCu PHP 缓存来加速 PHP 运行</h3>
<p>APCu 是一个免费的 PHP opcode cacher 用来缓存和优化 PHP 中间代码。推荐安装它来加速PHP速度。</p>
<p>安装：</p>
<div><pre><code>$ <span>apt-get</span> <span>install</span> php-apcu
</code></pre><div aria-hidden="true"><div></div></div></div><p>重启 Apache：</p>
<div><pre><code>$ systemctl restart apache2
</code></pre><div aria-hidden="true"><div></div></div></div><p>刷新一下 <a href="http://192.168.1.100/info.php%EF%BC%8C%E7%9C%8B%E5%88%B0" target="_blank" rel="noopener noreferrer">http://192.168.1.100/info.php，看到</a> apcu 模块：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209191033163-1143529792.png" alt="" loading="lazy"></p>
<p>请删除 info.php 文件，它会显示你服务器的敏感信息。运行下面的命令来删除：</p>
<div><pre><code>$ <span>rm</span> <span>-f</span> /var/www/html/info.php
</code></pre><div aria-hidden="true"><div></div></div></div><h3 id="启用-apache-的-ssl-网站支持" tabindex="-1"> 启用 Apache 的 SSL 网站支持</h3>
<p>SSL/TLS 是一个安全层，用于加密浏览器与服务器之间的连接。使用下面的命令以启用 https:// 支持</p>
<div><pre><code>$ a2enmod ssl
$ a2ensite default-ssl
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>这两行命令启用了 ssl 模块，并在 /etc/apache2/sites-enabled 文件夹中添加了 /etc/apache2/sites-available/default-ssl.conf 的链接，以将其包括到apache 配置之中。然后重启apache来启用新配置：</p>
<div><pre><code>$ systemctl restart apache2
</code></pre><div aria-hidden="true"><div></div></div></div><p>现在浏览器打开 <a href="https://192.168.1.100" target="_blank" rel="noopener noreferrer">https://192.168.1.100</a> ，看到：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209191755616-43146619.png" alt="" loading="lazy"></p>
<p>你看到了一个 SSL 警告：该服务器的 SSL 证书 是 “自己颁发给自己的”，这表示浏览器不信任该证书，所以你必须先接受安全警告，然后才能打开apache 默认页面：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209191955913-207794574.png" alt="" loading="lazy"></p>
<p>浏览器地址栏URL前面的 “绿色的锁”表明连接是经过加密的。要想解除 SSL 警告，可以从 SSL 证书颁发机构获得一个官方签名的SSL证书，然后替换默认自带的证书：/etc/ssl/certs/ssl-cert-snakeoil.pem。</p>
<h3 id="安装-phpmyadmin" tabindex="-1"> 安装 phpMyAdmin</h3>
<p>通过phpMyAdmin可以操作MySQL数据库。安装命令：</p>
<div><pre><code>$ <span>apt-get</span> <span>install</span> phpmyadmin
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后看到这些提示，按照红色提示输入就行了：</p>
<div><pre><code>Web server to configure automatically: <span>&lt;</span>-- Select the option: apache2
Configure database <span>for</span> phpmyadmin with dbconfig-common? <span>&lt;</span>-- Yes
MySQL application password <span>for</span> phpmyadmin: <span>&lt;</span>-- Press enter, <span>apt</span> will create a random password automatically.
</code></pre><div aria-hidden="true"><div></div><div></div><div></div></div></div><p>MariaDB 默认为root用户启用了“unix_socket”插件，这个插件会阻止root用户登录phpmyadmin和root用户到MySQL的TCP连接。因此，使用命令禁用了它：</p>
<div><pre><code><span>echo</span> <span>"update user set plugin='' where User='root'; flush privileges;"</span> <span>|</span> mysql <span>-u</span> root <span>-p</span> mysql
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后输入 MariaDB root 密码。</p>
<p>之后，你就可以通过 <a href="http://192.168.1.100/phpmyadmin/" target="_blank" rel="noopener noreferrer">http://192.168.1.100/phpmyadmin/</a> 来访问：</p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209192856772-78104055.png" alt="" loading="lazy"></p>
<p><img src="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209192906351-426799837.png" alt="" loading="lazy"></p>
<hr>
<p>另外，说明一些操作过程中可能会遇到的问题以及解决办法。</p>
<p>（1）安装完访问 phpmyadmin 时，出现错误：The reqeusted URL /phpmyadmin was not found on this server</p>
<p>我的解决办法在这里：<a href="/_posts/phpmyadmin-not-found.html">PHPMYADMIN NOT FOUND</a></p>
]]></content:encoded>
      <enclosure url="https://images2015.cnblogs.com/blog/941616/201612/941616-20161209182512710-1592568295.png" type="image/png"/>
    </item>
    <item>
      <title>Ubuntu apache2.4 设置虚拟主机</title>
      <link>https://newzone.top/_posts/2016-12-22-ubuntu-apache24-vhost.html</link>
      <guid>https://newzone.top/_posts/2016-12-22-ubuntu-apache24-vhost.html</guid>
      <source url="https://newzone.top/rss.xml">Ubuntu apache2.4 设置虚拟主机</source>
      <pubDate>Thu, 22 Dec 2016 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>每次重装系统如何配置都上网找，搞半天，都是不对的，还不如自己记下来，以作参考呢。</p>
<p>我的项目目录是 <code>/home/feiffy/demo/test/public</code>，映射的域名是 <a href="http://test.com" target="_blank" rel="noopener noreferrer">test.com</a>，这样在浏览器输入 <a href="http://test.com" target="_blank" rel="noopener noreferrer">test.com</a> 就可以直接打开我的项目啦。</p>
<p>下面是配置的步骤：</p>
<p>1）先保证自己项目目录存在啊：<code>$ mkdir /home/feiffy/demo/test</code></p>
<p>2）进入apache的配置文件目录：<code>$ cd /etc/apache2/sites-available/</code></p>
<p>3）建立一个以[域名.conf]为名的配置文件：<code>$ sudo gedit test.com.conf</code>，输入以下代码并保存：</p>
<div><pre><code>&lt;VirtualHost *:80&gt;
# 设置域名
ServerName test.com
# 设置项目目录
DocumentRoot /home/feiffy/demo/test/public

# 设置目录权限
&lt;Directory /home/feiffy/demo/test/public&gt;
AllowOverride All
Require all granted
&lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>4）启用配置：<code>$ sudo a2ensite test.com</code></p>
<p>5）重启 apache2：<code>$ sudo service apache2 reload</code></p>
<p>6）打开host文件：<code>$ sudo gedit /etc/hosts</code>
添加一行：<code>127.0.0.1 test.com</code></p>
<p>7）最后在浏览器输入 <a href="http://test.com" target="_blank" rel="noopener noreferrer">test.com</a>，就打开了主页文档 index.html，测试成功</p>
<h2 id="faqs" tabindex="-1"> FAQs</h2>
<ul>
<li><strong>打开浏览器输入 <code>test.com/index.html</code> 出现：<code>&quot;Forbidden You don't have permission to access /index.html on this server&quot;</code>.</strong></li>
</ul>
<p>这是没有权限的问题，设置项目目录权限即可</p>
<div><pre><code>$ <span>chown</span> www-data <span>-R</span> /home/feiffy/demo/test/public
</code></pre><div aria-hidden="true"><div></div></div></div><ul>
<li><strong>配置了新的端口8001，一直没有效果。</strong></li>
</ul>
<p>这是因为没有配置监听，需要在 apache2.conf 或者 port.conf 增加一行：</p>
<div><pre><code>Listen <span>8001</span>
</code></pre><div aria-hidden="true"><div></div></div></div><h2 id="参考" tabindex="-1"> 参考</h2>
<ul>
<li><a href="https://httpd.apache.org/docs/2.4/vhosts/examples.html" target="_blank" rel="noopener noreferrer">https://httpd.apache.org/docs/2.4/vhosts/examples.html</a> 官方示例</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Zend Framework 1 - Quick Start</title>
      <link>https://newzone.top/_posts/2017-01-05-zend-framework-1-quick-start.html</link>
      <guid>https://newzone.top/_posts/2017-01-05-zend-framework-1-quick-start.html</guid>
      <source url="https://newzone.top/rss.xml">Zend Framework 1 - Quick Start</source>
      <pubDate>Thu, 05 Jan 2017 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2 id="创建-zend-项目" tabindex="-1"> 创建 Zend 项目</h2>
<p>要创建 Zend 项目，首先要下载并解压 Zend Framework。</p>
<h2 id="安装-zend-framework" tabindex="-1"> 安装 Zend Framework</h2>
<p>下载最新的 <a href="https://packages.zendframework.com/releases/ZendFramework-1.12.20/ZendFramework-1.12.20.tar.gz" target="_blank" rel="noopener noreferrer">Zend Framework 1.12.20 源码包</a>，（我们使用的是 Zend Framework 1，所以下面的内容都是基于 Zend 1）</p>
<p>解压到合适的地方（比如：/home/xxx/bin/）.</p>
<p><strong>注：</strong> <code>/home/xxx/bin</code> 是我偏爱的目录，如果你设定了自己的目录，就应该替换下面命令中相应的地方</p>
<p><code>$ tar -xzvf ZendFramework-1.12.20.tar.gz -C /home/xxx/bin</code></p>
<p>这样 Zend Framework 就安装在了 /home/xxx/bin/ZendFramework-1.12.20</p>
<p><strong>注1：</strong><a href="https://framework.zend.com/downloads/archives" target="_blank" rel="noopener noreferrer">Zend Framework 各个版本下载</a><br>
<strong>注2：</strong><code>$</code> 符号表示当前环境是 Linux 命令行终端，在等待输入一个人命令。</p>
<h2 id="创建项目" tabindex="-1"> 创建项目</h2>
<p>在 Zend 安装目录下的 bin/ 目录下有 <a href="http://zf.sh" target="_blank" rel="noopener noreferrer">zf.sh</a> 脚本文件，你需要在系统path目录下创建该文件的链接，然后就可以在命令行中任何地方使用zf命令创建项目了。</p>
<div><pre><code>$ <span>sudo</span> <span>ln</span> <span>-s</span> /home/xxx/bin/ZendFramework-1.12.20/bin/zf.sh /usr/local/bin/zf
</code></pre><div aria-hidden="true"><div></div></div></div><p>打开命令行(∧ + Alt + T)，切换到你想创建项目的位置，假如你想在 ~/demo/ 目录下创建 Zend 项目：<code>cd ~/demo/</code>。</p>
<p>执行下面的命令创建 <strong>quickstart</strong> 项目：</p>
<p><code>$ zf create project quickstart</code></p>
<p>这样就创建了 /home/xxx/demo/quickstart，并且在 quickstart 目录下自动创建了 Zend 项目的一些目录结构。其项目结构如下：</p>
<div><pre><code>quickstart
|-- application
|   |-- Bootstrap.php
|   |-- configs
|   |   `-- application.ini
|   |-- controllers
|   |   |-- ErrorController.php
|   |   `-- IndexController.php
|   |-- models
|   `-- views
|       |-- helpers
|       `-- scripts
|           |-- error
|           |   `-- error.phtml
|           `-- index
|               `-- index.phtml
|-- library
|-- public
|   |-- .htaccess
|   `-- index.php
`-- tests
    |-- application
    |   `-- bootstrap.php
    |-- library
    |   `-- bootstrap.php
    `-- phpunit.xml
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>此时，只是创建了 Zend 项目结构，你还需要把 Zend Framework 添加到 quickstart 项目中，有两种方式，一中是创建一个链接，把 zend 框架下的 library 目录链接到 quickstart/library ，另一种方式是直接复制 zend 框架下的 library 目录替换掉 quickstart/library。</p>
<div><pre><code><span># Symlink</span>
$ <span>cd</span> library
$ <span>ln</span> <span>-s</span> /home/xxx/bin/ZendFramework-1.12.20/library/Zend <span>.</span>

<span># or copy</span>
$ <span>cd</span> library
$ <span>cp</span> <span>-r</span> /home/xxx/bin/ZendFramework-1.12.20/library/Zend <span>.</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>这样就可以看到 quickstart/library/Zend 目录了。</p>
<h2 id="项目启动文件" tabindex="-1"> 项目启动文件</h2>
<p>Bootstrap 类定义了 Zend 项目启动时要初始化的资源和组件。默认地，Zend Framework 初始化了 Front Controller，然后它使用 application/controllers/ 作为寻找 action controller 的默认路径。这个类如下：</p>
<div><pre><code><span>// application/Bootstrap.php</span>
 
<span>class</span> <span>Bootstrap</span> <span>extends</span> <span>Zend_Application_Bootstrap_Bootstrap</span>
<span>{</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div></div></div><p>如你所见，这里面没有什么内容。</p>
<h2 id="项目配置文件" tabindex="-1"> 项目配置文件</h2>
<p>默认配置文件放在：<em>application/configs/application.ini</em>，包含一些基本的指令，比如设置php环境，设置启动类，设置 action controller 等。文件内容如下：</p>
<div><pre><code><span>; application/configs/application.ini</span>
 
<span><span>[</span><span>production</span><span>]</span></span>
<span>phpSettings.display_startup_errors</span> <span>=</span> <span>0</span>
<span>phpSettings.display_errors</span> <span>=</span> <span>0</span>
<span>includePaths.library</span> <span>=</span> <span>APPLICATION_PATH "/../library"</span>
<span>bootstrap.path</span> <span>=</span> <span>APPLICATION_PATH "/Bootstrap.php"</span>
<span>bootstrap.class</span> <span>=</span> <span>"<span>Bootstrap</span>"</span>
<span>appnamespace</span> <span>=</span> <span>"<span>Application</span>"</span>
<span>resources.frontController.controllerDirectory</span> <span>=</span> <span>APPLICATION_PATH "/controllers"</span>
<span>resources.frontController.params.displayExceptions</span> <span>=</span> <span>0</span>
 
<span><span>[</span><span>staging : production</span><span>]</span></span>
 
<span><span>[</span><span>testing : production</span><span>]</span></span>
<span>phpSettings.display_startup_errors</span> <span>=</span> <span>1</span>
<span>phpSettings.display_errors</span> <span>=</span> <span>1</span>
 
<span><span>[</span><span>development : production</span><span>]</span></span>
<span>phpSettings.display_startup_errors</span> <span>=</span> <span>1</span>
<span>phpSettings.display_errors</span> <span>=</span> <span>1</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>关于这个文件有几个要点：<br>
(1) 使用 ini 配置文件时，你可以直接引用常量，<strong>APPLICATION_PATH</strong> 就是一个常量。<br>
(2) 这个文件被分成几个部分：production,staging,testing 和 development。后面三个包括了 production 的设置。不同的环境其配置分开，这样便于开发和调试。</p>
<h2 id="action-controller-控制器" tabindex="-1"> Action Controller 控制器</h2>
<p>应用程序的 action controller 定义了程序流程，把用户请求映射到合适的 model 和 view。</p>
<p>一个 action controller 应包含一个或多个以<strong>Action</strong>结尾的方法，这些方法可以通过 web 请求访问到。默认地，Zend Framework URLs 遵循 /controller/action 的模式，其中 controller 就映射 action controller 名字（以Controller作为后缀），而 action 就映射到 action 方法（以Action作为后缀）。</p>
<p>通常，需要一个 IndexController，它表示网站首页，和一个 ErrorController，它表示诸如 HTTP404、HTTP500 等错误页面.</p>
<p>初始 IndexController 代码如下：</p>
<div><pre><code><span>// application/controllers/IndexController.php</span>
 
<span>class</span> <span>IndexController</span> <span>extends</span> <span>Zend_Controller_Action</span>
<span>{</span>
 
    <span>public</span> <span>function</span> <span>init</span><span>(</span><span>)</span>
    <span>{</span>
        <span>/* Initialize action controller here */</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>indexAction</span><span>(</span><span>)</span>
    <span>{</span>
        <span>// action body</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>初始 ErrorController 代码如下：</p>
<div><pre><code><span>// application/controllers/ErrorController.php</span>
 
<span>class</span> <span>ErrorController</span> <span>extends</span> <span>Zend_Controller_Action</span>
<span>{</span>
 
    <span>public</span> <span>function</span> <span>errorAction</span><span>(</span><span>)</span>
    <span>{</span>
        <span>$errors</span> <span>=</span> <span>$this</span><span>-></span><span>_getParam</span><span>(</span><span>'error_handler'</span><span>)</span><span>;</span>
 
        <span>switch</span> <span>(</span><span>$errors</span><span>-></span><span>type</span><span>)</span> <span>{</span>
            <span>case</span> <span>Zend_Controller_Plugin_ErrorHandler</span><span>::</span><span>EXCEPTION_NO_ROUTE</span><span>:</span>
            <span>case</span> <span>Zend_Controller_Plugin_ErrorHandler</span><span>::</span><span>EXCEPTION_NO_CONTROLLER</span><span>:</span>
            <span>case</span> <span>Zend_Controller_Plugin_ErrorHandler</span><span>::</span><span>EXCEPTION_NO_ACTION</span><span>:</span>
 
                <span>// 404 error -- controller or action not found</span>
                <span>$this</span><span>-></span><span>getResponse</span><span>(</span><span>)</span><span>-></span><span>setHttpResponseCode</span><span>(</span><span>404</span><span>)</span><span>;</span>
                <span>$this</span><span>-></span><span>view</span><span>-></span><span>message</span> <span>=</span> <span>'Page not found'</span><span>;</span>
                <span>break</span><span>;</span>
            <span>default</span><span>:</span>
                <span>// application error</span>
                <span>$this</span><span>-></span><span>getResponse</span><span>(</span><span>)</span><span>-></span><span>setHttpResponseCode</span><span>(</span><span>500</span><span>)</span><span>;</span>
                <span>$this</span><span>-></span><span>view</span><span>-></span><span>message</span> <span>=</span> <span>'Application error'</span><span>;</span>
                <span>break</span><span>;</span>
        <span>}</span>
 
        <span>$this</span><span>-></span><span>view</span><span>-></span><span>exception</span> <span>=</span> <span>$errors</span><span>-></span><span>exception</span><span>;</span>
        <span>$this</span><span>-></span><span>view</span><span>-></span><span>request</span>   <span>=</span> <span>$errors</span><span>-></span><span>request</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id="views-视图" tabindex="-1"> Views 视图</h2>
<p>Zend Framework 中的 Views 是用普通 PHP 代码写的。View scripts 在 application/views/scripts/ 下面，它以控制器名字分文件夹组织起来。本例中，我们有一个 IndexController 和 ErrorController，因此相应地，也应在 View scripts 目录下有 index/ 和 error/ 子目录。在这个子目录中，又有每个 view scripts 文件，对应 Controller 中的 Action。本例中，使用 index/index.phtml 和 error/error.phtml。</p>
<p>下面是默认的 index/index.phtml view script:</p>
<div><pre><code><span>&lt;!-- application/views/scripts/index/index.phtml --></span>
<span><span><span>&lt;</span>style</span><span>></span></span><span><span>
 
    <span>a:link,
    a:visited</span>
    <span>{</span>
        <span>color</span><span>:</span> #0398CA<span>;</span>
    <span>}</span>
 
    <span>span#zf-name</span>
    <span>{</span>
        <span>color</span><span>:</span> #91BE3F<span>;</span>
    <span>}</span>
 
    <span>div#welcome</span>
    <span>{</span>
        <span>color</span><span>:</span> #FFFFFF<span>;</span>
        <span>background-image</span><span>:</span> <span><span>url</span><span>(</span>http://framework.zend.com/images/bkg_header.jpg<span>)</span></span><span>;</span>
        <span>width</span><span>:</span>  600px<span>;</span>
        <span>height</span><span>:</span> 400px<span>;</span>
        <span>border</span><span>:</span> 2px solid #444444<span>;</span>
        <span>overflow</span><span>:</span> hidden<span>;</span>
        <span>text-align</span><span>:</span> center<span>;</span>
    <span>}</span>
 
    <span>div#more-information</span>
    <span>{</span>
        <span>background-image</span><span>:</span> <span><span>url</span><span>(</span>http://framework.zend.com/images/bkg_body-bottom.gif<span>)</span></span><span>;</span>
        <span>height</span><span>:</span> 100%<span>;</span>
    <span>}</span>
 
</span></span><span><span><span>&lt;/</span>style</span><span>></span></span>
<span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>"</span>welcome<span>"</span></span><span>></span></span>
    <span><span><span>&lt;</span>h1</span><span>></span></span>Welcome to the <span><span><span>&lt;</span>span</span> <span>id</span><span><span>=</span><span>"</span>zf-name<span>"</span></span><span>></span></span>Zend Framework!<span><span><span>&lt;/</span>span</span><span>></span></span><span><span><span>&lt;</span>h1</span> <span>/></span></span>
    <span><span><span>&lt;</span>h3</span><span>></span></span>This is your project's main page<span><span><span>&lt;</span>h3</span> <span>/></span></span>
    <span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>"</span>more-information<span>"</span></span><span>></span></span>
        <span><span><span>&lt;</span>p</span><span>></span></span>
            <span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>"</span>http://framework.zend.com/images/PoweredBy_ZF_4LightBG.png<span>"</span></span> <span>/></span></span>
        <span><span><span>&lt;/</span>p</span><span>></span></span>
 
        <span><span><span>&lt;</span>p</span><span>></span></span>
            Helpful Links: <span><span><span>&lt;</span>br</span> <span>/></span></span>
            <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span>http://framework.zend.com/<span>"</span></span><span>></span></span>Zend Framework Website<span><span><span>&lt;/</span>a</span><span>></span></span> |
            <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span>http://framework.zend.com/manual/en/<span>"</span></span><span>></span></span>Zend Framework
                Manual<span><span><span>&lt;/</span>a</span><span>></span></span>
        <span><span><span>&lt;/</span>p</span><span>></span></span>
    <span><span><span>&lt;/</span>div</span><span>></span></span>
<span><span><span>&lt;/</span>div</span><span>></span></span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>error/error.phtml 稍微复杂一点，其中使用了php条件语句：</p>
<div><pre><code><span>&lt;!-- application/views/scripts/error/error.phtml --></span>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN";
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd>
<span><span><span>&lt;</span>html</span> <span>xmlns</span><span><span>=</span><span>"</span>http://www.w3.org/1999/xhtml<span>"</span></span><span>></span></span>
<span><span><span>&lt;</span>head</span><span>></span></span>
  <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>"</span>Content-Type<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>text/html; charset=utf-8<span>"</span></span> <span>/></span></span>
  <span><span><span>&lt;</span>title</span><span>></span></span>Zend Framework Default Application<span><span><span>&lt;/</span>title</span><span>></span></span>
<span><span><span>&lt;/</span>head</span><span>></span></span>
<span><span><span>&lt;</span>body</span><span>></span></span>
  <span><span><span>&lt;</span>h1</span><span>></span></span>An error occurred<span><span><span>&lt;/</span>h1</span><span>></span></span>
  <span><span><span>&lt;</span>h2</span><span>></span></span><span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>message</span> <span>?></span></span><span><span><span>&lt;/</span>h2</span><span>></span></span>
 
  <span><span>&lt;?php</span> <span>if</span> <span>(</span><span>'development'</span> <span>==</span> <span>$this</span><span>-></span><span>env</span><span>)</span><span>:</span> <span>?></span></span>
 
  <span><span><span>&lt;</span>h3</span><span>></span></span>Exception information:<span><span><span>&lt;/</span>h3</span><span>></span></span>
  <span><span><span>&lt;</span>p</span><span>></span></span>
      <span><span><span>&lt;</span>b</span><span>></span></span>Message:<span><span><span>&lt;/</span>b</span><span>></span></span> <span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>exception</span><span>-></span><span>getMessage</span><span>(</span><span>)</span> <span>?></span></span>
  <span><span><span>&lt;/</span>p</span><span>></span></span>
 
  <span><span><span>&lt;</span>h3</span><span>></span></span>Stack trace:<span><span><span>&lt;/</span>h3</span><span>></span></span>
  <span><span><span>&lt;</span>pre</span><span>></span></span><span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>exception</span><span>-></span><span>getTraceAsString</span><span>(</span><span>)</span> <span>?></span></span>
  <span><span><span>&lt;/</span>pre</span><span>></span></span>
 
  <span><span><span>&lt;</span>h3</span><span>></span></span>Request Parameters:<span><span><span>&lt;/</span>h3</span><span>></span></span>
  <span><span><span>&lt;</span>pre</span><span>></span></span><span><span>&lt;?php</span> <span>echo</span> <span>var_export</span><span>(</span><span>$this</span><span>-></span><span>request</span><span>-></span><span>getParams</span><span>(</span><span>)</span><span>,</span> <span>1</span><span>)</span> <span>?></span></span>
  <span><span><span>&lt;/</span>pre</span><span>></span></span>
  <span><span>&lt;?php</span> <span>endif</span> <span>?></span></span>
 
<span><span><span>&lt;/</span>body</span><span>></span></span>
<span><span><span>&lt;/</span>html</span><span>></span></span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id="创建虚拟主机" tabindex="-1"> 创建虚拟主机</h2>
<p>对于 quickstart 项目，我们把它放在 apache 服务器上运行。</p>
<p>我们需要设置一个虚拟主机，这样就可以在浏览器中输入域名来访问我们的网站了。假设你已经配置好了 php+apache+mysql 运行环境，如果没有，请参考<a href="http://www.cnblogs.com/feifeifanye/p/6150551.html" target="_blank" rel="noopener noreferrer">教程</a></p>
<p>假设我们的项目所映射的域名是：quickstart.local。</p>
<p>进入 apache 配置目录，创建配置文件：</p>
<div><pre><code><span>cd</span> /etc/apache2/sites-available/
<span>sudo</span> gedit quickstart.local.conf
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>然后复制下面的内容到该配置文件，<strong>注意</strong>：项目路径需要替换成你自己的项目路径：</p>
<div><pre><code><span><span><span>&lt;</span>VirtualHost</span> <span><span>*:</span>80</span><span>></span></span>
	ServerName quickstart.local

	ServerAdmin webmaster@localhost
	DocumentRoot /home/xxx/demo/quickstart/public

	&lt;Directory /home/xxx/demo/quickstart/public>
	AllowOverride all
	require all granted
	<span><span><span>&lt;/</span>Directory</span><span>></span></span>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

<span><span><span>&lt;/</span>VirtualHost</span><span>></span></span>

</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>保存该文件，并且启用该配置：<code>sudo a2ensite quickstart.local</code></p>
<p>然后打开hosts文件：<code>sudo gedit /etc/hosts</code> 添加一行：<br>
<code>127.0.0.1 quickstart.local</code></p>
<p>最后重启一下 apache 服务器:<br>
<code>sudo service apache2 restart</code></p>
<p>到此为止，这个项目就创建成功并且可运行了。</p>
<h2 id="检验成果" tabindex="-1"> 检验成果</h2>
<p>现在就可以访问你的项目网站了，打开浏览器输入<code>http://quickstart.local</code>，就能看到欢迎页了。</p>
<p>![[ddb946d216db6a8575bef69f77779568.png]]</p>
<h3 id="可能遇到的问题" tabindex="-1"> 可能遇到的问题：</h3>
<ol>
<li>页面不显示：很有可能时项目目录的权限问题，使用 <code>chmod -R 777 /home/xxx/demo/quickstart</code> 试试看。</li>
</ol>
<h1 id="创建一个-layout" tabindex="-1"> 创建一个 Layout</h1>
<p>你可能注意到，上面的 view scripts 不是完整的 html 页面，这是故意设计的。我们只想让 action 只返回 action 本身要输出的内容，而不是整个应用程序页面。</p>
<p>现在来组成一个完整的 HTML 页面。我们使用一个全局的 layout 来作为网站统一的样式。</p>
<p><strong>注：</strong> 下面的命令若无说明，默认是在当前项目根目录下执行的。</p>
<p>开始使用 <code>Zend_Layout</code>，首先让 bootstrap 来加载 Layout 资源。通过下面的命令可实现：</p>
<div><pre><code><span>$zf</span> <span>enable</span> layout
<span># Layouts have been enabled, and a default layout created at</span>
<span># application/layouts/scripts/layout.phtml</span>
<span># A layout entry has been added to the application config file.</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div></div></div><p>此时，<em>application/configs/application.ini</em> 内容自动更新了：</p>
<div><pre><code><span>; application/configs/application.ini</span>
 
<span>; Add to [production] section:</span>
<span>resources.layout.layoutPath</span> <span>=</span> <span>APPLICATION_PATH "/layouts/scripts"</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div></div></div><p>这个指令告诉应用程序去 <em>application/layouts/scripts</em> 去寻找 layout。</p>
<p>我们还要启用 XHTML DocType 声明，为此，在 bootstrap 中加载该资源。在 bootstrap中添加资源的最简单的方法就是创建一个以init开头的方法。此时，我们使用 _initDoctype() 方法来初始化 doctype：</p>
<div><pre><code><span>// application/Bootstrap.php</span>
 
<span>class</span> <span>Bootstrap</span> <span>extends</span> <span>Zend_Application_Bootstrap_Bootstrap</span>
<span>{</span>
    <span>protected</span> <span>function</span> <span>_initDoctype</span><span>(</span><span>)</span>
    <span>{</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>有了这个方法，还需要让 view 使用正确的 doctype，但是 view 从哪里来？最简单的方式就是初始化 View 资源；有了它，就可以把 view 对象放入 bootstrap 并使用它。</p>
<p>添加下行到 aplication/configs/application.ini 来创建 view 资源:</p>
<div><pre><code><span>; application/configs/application.ini</span>
 
<span>; Add to [production] section:</span>
<span>resources.view[]</span> <span>=</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div></div></div><p>然后再来充实一下 _initDoctype() 方法。</p>
<div><pre><code><span>// application/Bootstrap.php</span>
 
<span>class</span> <span>Bootstrap</span> <span>extends</span> <span>Zend_Application_Bootstrap_Bootstrap</span>
<span>{</span>
    <span>protected</span> <span>function</span> <span>_initDoctype</span><span>(</span><span>)</span>
    <span>{</span>
        <span>$this</span><span>-></span><span>bootstrap</span><span>(</span><span>'view'</span><span>)</span><span>;</span>
        <span>$view</span> <span>=</span> <span>$this</span><span>-></span><span>getResource</span><span>(</span><span>'view'</span><span>)</span><span>;</span>
        <span>$view</span><span>-></span><span>doctype</span><span>(</span><span>'XHTML1_STRICT'</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>然后，创建全局的 layout：</p>
<div><pre><code><span>&lt;!-- application/layouts/scripts/layout.phtml --></span>
<span>&lt;?php echo $this->doctype() ?></span>
<span><span><span>&lt;</span>html</span> <span>xmlns</span><span><span>=</span><span>"</span>http://www.w3.org/1999/xhtml<span>"</span></span><span>></span></span>
<span><span><span>&lt;</span>head</span><span>></span></span>
  <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>"</span>Content-Type<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>text/html; charset=utf-8<span>"</span></span> <span>/></span></span>
  <span><span><span>&lt;</span>title</span><span>></span></span>Zend Framework Quickstart Application<span><span><span>&lt;/</span>title</span><span>></span></span>
  <span>&lt;?php echo $this->headLink()->appendStylesheet('/css/global.css') ?></span>
<span><span><span>&lt;/</span>head</span><span>></span></span>
<span><span><span>&lt;</span>body</span><span>></span></span>
<span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>"</span>header<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>background-color</span><span>:</span> #EEEEEE<span>;</span> <span>height</span><span>:</span> 30px<span>;</span></span><span>"</span></span></span><span>></span></span>
    <span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>"</span>header-logo<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>float</span><span>:</span> left</span><span>"</span></span></span><span>></span></span>
        <span><span><span>&lt;</span>b</span><span>></span></span>ZF Quickstart Application<span><span><span>&lt;/</span>b</span><span>></span></span>
    <span><span><span>&lt;/</span>div</span><span>></span></span>
    <span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>"</span>header-navigation<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>float</span><span>:</span> right</span><span>"</span></span></span><span>></span></span>
        <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span>&lt;?php echo $this->url(
            array('controller'=>'guestbook'),
            'default',
            true) ?><span>"</span></span><span>></span></span>Guestbook<span><span><span>&lt;/</span>a</span><span>></span></span>
    <span><span><span>&lt;/</span>div</span><span>></span></span>
<span><span><span>&lt;/</span>div</span><span>></span></span>
 
<span>&lt;?php echo $this->layout()->content ?></span>
 
<span><span><span>&lt;/</span>body</span><span>></span></span>
<span><span><span>&lt;/</span>html</span><span>></span></span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>使用<code>headLink()</code>来生成<code>&lt;link&gt;</code>元素。</p>
<p>现在再打开浏览器并查看源代码，应该能看到 XHTML头部，<code>&lt;head&gt; &lt;title&gt; &lt;body&gt;</code>等部分。</p>
<p>![[e5818d0598d7b4a59056aa513432a220.png]]
![[37058def8908094e831a5bc03d8f92cb.png]]</p>
<h2 id="创建一个-model-和-database-table" tabindex="-1"> 创建一个 Model 和 Database Table</h2>
<p>现在考虑一下guestbook的组成，它包含一些记录，每个记录由注释，时间戳，email地址等组成。我们把它存在数据库里，并有一个唯一id。我们希望能保存、获取所有记录。</p>
<p>因此，一个简单的 guestbook 模型 API 就像下面这样：</p>
<div><pre><code><span>// application/models/Guestbook.php</span>
 
<span>class</span> <span>Application_Model_Guestbook</span>
<span>{</span>
    <span>protected</span> <span>$_comment</span><span>;</span>
    <span>protected</span> <span>$_created</span><span>;</span>
    <span>protected</span> <span>$_email</span><span>;</span>
    <span>protected</span> <span>$_id</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>__set</span><span>(</span><span>$name</span><span>,</span> <span>$value</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>__get</span><span>(</span><span>$name</span><span>)</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>setComment</span><span>(</span><span>$text</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>getComment</span><span>(</span><span>)</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>setEmail</span><span>(</span><span>$email</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>getEmail</span><span>(</span><span>)</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>setCreated</span><span>(</span><span>$ts</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>getCreated</span><span>(</span><span>)</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>setId</span><span>(</span><span>$id</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>getId</span><span>(</span><span>)</span><span>;</span>
<span>}</span>
 
<span>class</span> <span>Application_Model_GuestbookMapper</span>
<span>{</span>
    <span>public</span> <span>function</span> <span>save</span><span>(</span><span>Application_Model_Guestbook</span> <span>$guestbook</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>find</span><span>(</span><span>$id</span><span>)</span><span>;</span>
    <span>public</span> <span>function</span> <span>fetchAll</span><span>(</span><span>)</span><span>;</span>
<span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>下面，我们可以开始思考如何设置数据库了。</p>
<p>首先要初始化 Db 资源。使用 zf configure db-adapter 命令：</p>
<div><pre><code>zf configure db-adapter <span>"adapter=Pdo_MySql&amp;host=localhost&amp;username=root&amp;password=&amp;dbname=guestbook"</span> production

zf configure db-adapter <span>"adapter=Pdo_MySql&amp;host=localhost&amp;username=root&amp;password=&amp;dbname=guestbook-test"</span> testing

zf configure db-adapter <span>"adapter=Pdo_MySql&amp;host=localhost&amp;username=root&amp;password=&amp;dbname=guestbook-dev"</span> development
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div></div></div><p>如果成功执行，那么在 <em>application/configs/application.ini</em> 中就能看到新增的几行配置：</p>
<div><pre><code>//application/configs/application.ini

<span>resources.db.adapter</span> <span>=</span> <span>"<span>Pdo_MySql</span>"</span>
<span>resources.db.params.host</span> <span>=</span> <span>"<span>localhost</span>"</span>
<span>resources.db.params.username</span> <span>=</span> <span>"<span>root</span>"</span>
<span>resources.db.params.password</span> <span>=</span> <span>""</span>
<span>resources.db.params.dbname</span> <span>=</span><span>"<span>guestbook</span>"</span> 
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>**注：**要把数据库密码设置成你自己的。</p>
<p>然后创建数据库，打开 phpMyadmin，创建数据库 <strong>guestbook</strong>，输入下面SQL语句并执行：</p>
<div><pre><code><span>CREATE</span> <span>TABLE</span> <span>IF</span> <span>NOT</span> <span>EXISTS</span> <span><span>`</span>guestbook<span>`</span></span> <span>(</span>
    <span><span>`</span>id<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>AUTO_INCREMENT</span><span>,</span>
    <span><span>`</span>email<span>`</span></span> <span>varchar</span><span>(</span><span>32</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>'noemail@test.com'</span><span>,</span>
    <span><span>`</span>comment<span>`</span></span> <span>varchar</span><span>(</span><span>200</span><span>)</span> <span>NOT</span> <span>NULL</span><span>,</span>
    <span><span>`</span>created<span>`</span></span> <span>timestamp</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
    <span>PRIMARY</span> <span>KEY</span> <span>(</span><span><span>`</span>id<span>`</span></span><span>)</span>
<span>)</span> <span>ENGINE</span><span>=</span>MyISAM  <span>DEFAULT</span> <span>CHARSET</span><span>=</span>latin1 <span>AUTO_INCREMENT</span><span>=</span><span>1</span> <span>;</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>接下来我们使用 <a href="http://martinfowler.com/eaaCatalog/tableDataGateway.html" target="_blank" rel="noopener noreferrer">Table Data Gateway</a> 机制来连接数据源。<code>Zend_Db_Table</code> 提供了这个功能。</p>
<p>首先创建一个 <code>Zend_Db_Table</code> 类：</p>
<div><pre><code>$ zf create db-table Guestbook guestbook
</code></pre><div aria-hidden="true"><div></div></div></div><p>查看项目结构，发现多了一个 <em>application/models/DbTable/</em> 目录，里面有一个 Guestbook.php 文件。其内容如下：</p>
<div><pre><code><span>// application/models/DbTable/Guestbook.php</span>
 
<span>/**
* This is the DbTable class for the guestbook table.
*/</span>
<span>class</span> <span>Application_Model_DbTable_Guestbook</span> <span>extends</span> <span>Zend_Db_Table_Abstract</span>
<span>{</span>
    <span>/** Table name */</span>
    <span>protected</span> <span>$_name</span>    <span>=</span> <span>'guestbook'</span><span>;</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><strong>注意</strong> <code>Application_Model_DbTable</code> 类前缀，它对应 <em>application/models/DbTable</em> 目录。</p>
<p>然后创建一个 <a href="http://martinfowler.com/eaaCatalog/dataMapper.html" target="_blank" rel="noopener noreferrer">Data Mapper</a>。Data Mapper 映射对象到数据库。本例中，它将映射 model 到数据源。</p>
<div><pre><code>$ zf create model GuestbookMapper
</code></pre><div aria-hidden="true"><div></div></div></div><p>然后打开 application/models/GuestbookMapper.php 并输入以下内容：</p>
<div><pre><code><span>// application/models/GuestbookMapper.php</span>
 
<span>class</span> <span>Application_Model_GuestbookMapper</span>
<span>{</span>
    <span>protected</span> <span>$_dbTable</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>setDbTable</span><span>(</span><span>$dbTable</span><span>)</span>
    <span>{</span>
        <span>if</span> <span>(</span><span>is_string</span><span>(</span><span>$dbTable</span><span>)</span><span>)</span> <span>{</span>
            <span>$dbTable</span> <span>=</span> <span>new</span> <span>$dbTable</span><span>(</span><span>)</span><span>;</span>
        <span>}</span>
        <span>if</span> <span>(</span><span>!</span><span>$dbTable</span> <span>instanceof</span> <span>Zend_Db_Table_Abstract</span><span>)</span> <span>{</span>
            <span>throw</span> <span>new</span> <span>Exception</span><span>(</span><span>'Invalid table data gateway provided'</span><span>)</span><span>;</span>
        <span>}</span>
        <span>$this</span><span>-></span><span>_dbTable</span> <span>=</span> <span>$dbTable</span><span>;</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>getDbTable</span><span>(</span><span>)</span>
    <span>{</span>
        <span>if</span> <span>(</span><span>null</span> <span>===</span> <span>$this</span><span>-></span><span>_dbTable</span><span>)</span> <span>{</span>
            <span>$this</span><span>-></span><span>setDbTable</span><span>(</span><span>'Application_Model_DbTable_Guestbook'</span><span>)</span><span>;</span>
        <span>}</span>
        <span>return</span> <span>$this</span><span>-></span><span>_dbTable</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>save</span><span>(</span><span>Application_Model_Guestbook</span> <span>$guestbook</span><span>)</span>
    <span>{</span>
        <span>$data</span> <span>=</span> <span>array</span><span>(</span>
            <span>'email'</span>   <span>=></span> <span>$guestbook</span><span>-></span><span>getEmail</span><span>(</span><span>)</span><span>,</span>
            <span>'comment'</span> <span>=></span> <span>$guestbook</span><span>-></span><span>getComment</span><span>(</span><span>)</span><span>,</span>
            <span>'created'</span> <span>=></span> <span>date</span><span>(</span><span>'Y-m-d H:i:s'</span><span>)</span><span>,</span>
        <span>)</span><span>;</span>
 
        <span>if</span> <span>(</span><span>null</span> <span>===</span> <span>(</span><span>$id</span> <span>=</span> <span>$guestbook</span><span>-></span><span>getId</span><span>(</span><span>)</span><span>)</span><span>)</span> <span>{</span>
            <span>unset</span><span>(</span><span>$data</span><span>[</span><span>'id'</span><span>]</span><span>)</span><span>;</span>
            <span>$this</span><span>-></span><span>getDbTable</span><span>(</span><span>)</span><span>-></span><span>insert</span><span>(</span><span>$data</span><span>)</span><span>;</span>
        <span>}</span> <span>else</span> <span>{</span>
            <span>$this</span><span>-></span><span>getDbTable</span><span>(</span><span>)</span><span>-></span><span>update</span><span>(</span><span>$data</span><span>,</span> <span>array</span><span>(</span><span>'id = ?'</span> <span>=></span> <span>$id</span><span>)</span><span>)</span><span>;</span>
        <span>}</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>find</span><span>(</span><span>$id</span><span>,</span> <span>Application_Model_Guestbook</span> <span>$guestbook</span><span>)</span>
    <span>{</span>
        <span>$result</span> <span>=</span> <span>$this</span><span>-></span><span>getDbTable</span><span>(</span><span>)</span><span>-></span><span>find</span><span>(</span><span>$id</span><span>)</span><span>;</span>
        <span>if</span> <span>(</span><span>0</span> <span>==</span> <span>count</span><span>(</span><span>$result</span><span>)</span><span>)</span> <span>{</span>
            <span>return</span><span>;</span>
        <span>}</span>
        <span>$row</span> <span>=</span> <span>$result</span><span>-></span><span>current</span><span>(</span><span>)</span><span>;</span>
        <span>$guestbook</span><span>-></span><span>setId</span><span>(</span><span>$row</span><span>-></span><span>id</span><span>)</span>
                  <span>-></span><span>setEmail</span><span>(</span><span>$row</span><span>-></span><span>email</span><span>)</span>
                  <span>-></span><span>setComment</span><span>(</span><span>$row</span><span>-></span><span>comment</span><span>)</span>
                  <span>-></span><span>setCreated</span><span>(</span><span>$row</span><span>-></span><span>created</span><span>)</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>fetchAll</span><span>(</span><span>)</span>
    <span>{</span>
        <span>$resultSet</span> <span>=</span> <span>$this</span><span>-></span><span>getDbTable</span><span>(</span><span>)</span><span>-></span><span>fetchAll</span><span>(</span><span>)</span><span>;</span>
        <span>$entries</span>   <span>=</span> <span>array</span><span>(</span><span>)</span><span>;</span>
        <span>foreach</span> <span>(</span><span>$resultSet</span> <span>as</span> <span>$row</span><span>)</span> <span>{</span>
            <span>$entry</span> <span>=</span> <span>new</span> <span>Application_Model_Guestbook</span><span>(</span><span>)</span><span>;</span>
            <span>$entry</span><span>-></span><span>setId</span><span>(</span><span>$row</span><span>-></span><span>id</span><span>)</span>
                  <span>-></span><span>setEmail</span><span>(</span><span>$row</span><span>-></span><span>email</span><span>)</span>
                  <span>-></span><span>setComment</span><span>(</span><span>$row</span><span>-></span><span>comment</span><span>)</span>
                  <span>-></span><span>setCreated</span><span>(</span><span>$row</span><span>-></span><span>created</span><span>)</span><span>;</span>
            <span>$entries</span><span>[</span><span>]</span> <span>=</span> <span>$entry</span><span>;</span>
        <span>}</span>
        <span>return</span> <span>$entries</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>现在，创建 model 类，仍然使用 zf 命令：</p>
<div><pre><code>$ zf create model Guestbook
</code></pre><div aria-hidden="true"><div></div></div></div><p>打开刚刚创建的模型类： application/models/Guestbook.php 并添加以下代码：</p>
<div><pre><code><span>// application/models/Guestbook.php</span>
 
<span>class</span> <span>Application_Model_Guestbook</span>
<span>{</span>
    <span>protected</span> <span>$_comment</span><span>;</span>
    <span>protected</span> <span>$_created</span><span>;</span>
    <span>protected</span> <span>$_email</span><span>;</span>
    <span>protected</span> <span>$_id</span><span>;</span>
 
    <span>public</span> <span>function</span> <span>__construct</span><span>(</span><span>array</span> <span>$options</span> <span>=</span> <span>null</span><span>)</span>
    <span>{</span>
        <span>if</span> <span>(</span><span>is_array</span><span>(</span><span>$options</span><span>)</span><span>)</span> <span>{</span>
            <span>$this</span><span>-></span><span>setOptions</span><span>(</span><span>$options</span><span>)</span><span>;</span>
        <span>}</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>__set</span><span>(</span><span>$name</span><span>,</span> <span>$value</span><span>)</span>
    <span>{</span>
        <span>$method</span> <span>=</span> <span>'set'</span> <span>.</span> <span>$name</span><span>;</span>
        <span>if</span> <span>(</span><span>(</span><span>'mapper'</span> <span>==</span> <span>$name</span><span>)</span> <span>||</span> <span>!</span><span>method_exists</span><span>(</span><span>$this</span><span>,</span> <span>$method</span><span>)</span><span>)</span> <span>{</span>
            <span>throw</span> <span>new</span> <span>Exception</span><span>(</span><span>'Invalid guestbook property'</span><span>)</span><span>;</span>
        <span>}</span>
        <span>$this</span><span>-></span><span>$method</span><span>(</span><span>$value</span><span>)</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>__get</span><span>(</span><span>$name</span><span>)</span>
    <span>{</span>
        <span>$method</span> <span>=</span> <span>'get'</span> <span>.</span> <span>$name</span><span>;</span>
        <span>if</span> <span>(</span><span>(</span><span>'mapper'</span> <span>==</span> <span>$name</span><span>)</span> <span>||</span> <span>!</span><span>method_exists</span><span>(</span><span>$this</span><span>,</span> <span>$method</span><span>)</span><span>)</span> <span>{</span>
            <span>throw</span> <span>new</span> <span>Exception</span><span>(</span><span>'Invalid guestbook property'</span><span>)</span><span>;</span>
        <span>}</span>
        <span>return</span> <span>$this</span><span>-></span><span>$method</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>setOptions</span><span>(</span><span>array</span> <span>$options</span><span>)</span>
    <span>{</span>
        <span>$methods</span> <span>=</span> <span>get_class_methods</span><span>(</span><span>$this</span><span>)</span><span>;</span>
        <span>foreach</span> <span>(</span><span>$options</span> <span>as</span> <span>$key</span> <span>=></span> <span>$value</span><span>)</span> <span>{</span>
            <span>$method</span> <span>=</span> <span>'set'</span> <span>.</span> <span>ucfirst</span><span>(</span><span>$key</span><span>)</span><span>;</span>
            <span>if</span> <span>(</span><span>in_array</span><span>(</span><span>$method</span><span>,</span> <span>$methods</span><span>)</span><span>)</span> <span>{</span>
                <span>$this</span><span>-></span><span>$method</span><span>(</span><span>$value</span><span>)</span><span>;</span>
            <span>}</span>
        <span>}</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>setComment</span><span>(</span><span>$text</span><span>)</span>
    <span>{</span>
        <span>$this</span><span>-></span><span>_comment</span> <span>=</span> <span>(</span><span>string</span><span>)</span> <span>$text</span><span>;</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>getComment</span><span>(</span><span>)</span>
    <span>{</span>
        <span>return</span> <span>$this</span><span>-></span><span>_comment</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>setEmail</span><span>(</span><span>$email</span><span>)</span>
    <span>{</span>
        <span>$this</span><span>-></span><span>_email</span> <span>=</span> <span>(</span><span>string</span><span>)</span> <span>$email</span><span>;</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>getEmail</span><span>(</span><span>)</span>
    <span>{</span>
        <span>return</span> <span>$this</span><span>-></span><span>_email</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>setCreated</span><span>(</span><span>$ts</span><span>)</span>
    <span>{</span>
        <span>$this</span><span>-></span><span>_created</span> <span>=</span> <span>$ts</span><span>;</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>getCreated</span><span>(</span><span>)</span>
    <span>{</span>
        <span>return</span> <span>$this</span><span>-></span><span>_created</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>setId</span><span>(</span><span>$id</span><span>)</span>
    <span>{</span>
        <span>$this</span><span>-></span><span>_id</span> <span>=</span> <span>(</span><span>int</span><span>)</span> <span>$id</span><span>;</span>
        <span>return</span> <span>$this</span><span>;</span>
    <span>}</span>
 
    <span>public</span> <span>function</span> <span>getId</span><span>(</span><span>)</span>
    <span>{</span>
        <span>return</span> <span>$this</span><span>-></span><span>_id</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>最后，我们创建一个 guestbook controller 查询并显示数据库中的结果：</p>
<div><pre><code>$ zf create controller Guestbook
</code></pre><div aria-hidden="true"><div></div></div></div><p>这将创建 <em>application/controllers/GuestbookController.php</em>，它有一个 <code>IndexAction</code> 方法，同时，在 <em>application/views/scripts/guestbook</em> 目录中创建了一个 index.phtml 文件。</p>
<p>打开 GuestbookController，在 IndexAction 中添加代码，显示所有的 guestbook 记录：</p>
<div><pre><code><span>// application/controllers/GuestbookController.php</span>
 
<span>class</span> <span>GuestbookController</span> <span>extends</span> <span>Zend_Controller_Action</span>
<span>{</span>
    <span>public</span> <span>function</span> <span>indexAction</span><span>(</span><span>)</span>
    <span>{</span>
        <span>$guestbook</span> <span>=</span> <span>new</span> <span>Application_Model_GuestbookMapper</span><span>(</span><span>)</span><span>;</span>
        <span>$this</span><span>-></span><span>view</span><span>-></span><span>entries</span> <span>=</span> <span>$guestbook</span><span>-></span><span>fetchAll</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>打开 <em>application/views/scripts/guestbook/index.phtml</em> 添加以下内容：</p>
<div><pre><code><span>&lt;!-- application/views/scripts/guestbook/index.phtml --></span>
 
<span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span><span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>url</span><span>(</span>
    <span>array</span><span>(</span>
        <span>'controller'</span> <span>=></span> <span>'guestbook'</span><span>,</span>
        <span>'action'</span>     <span>=></span> <span>'sign'</span>
    <span>)</span><span>,</span>
    <span>'default'</span><span>,</span>
    <span>true</span><span>)</span> <span>?></span></span><span>"</span></span><span>></span></span>Sign Our Guestbook<span><span><span>&lt;/</span>a</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>
 
Guestbook Entries: <span><span><span>&lt;</span>br</span> <span>/></span></span>
<span><span><span>&lt;</span>dl</span><span>></span></span>
    <span><span>&lt;?php</span> <span>foreach</span> <span>(</span><span>$this</span><span>-></span><span>entries</span> <span>as</span> <span>$entry</span><span>)</span><span>:</span> <span>?></span></span>
    <span><span><span>&lt;</span>dt</span><span>></span></span><span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>escape</span><span>(</span><span>$entry</span><span>-></span><span>email</span><span>)</span> <span>?></span></span><span><span><span>&lt;/</span>dt</span><span>></span></span>
    <span><span><span>&lt;</span>dd</span><span>></span></span><span><span>&lt;?php</span> <span>echo</span> <span>$this</span><span>-></span><span>escape</span><span>(</span><span>$entry</span><span>-></span><span>comment</span><span>)</span> <span>?></span></span><span><span><span>&lt;/</span>dd</span><span>></span></span>
    <span><span>&lt;?php</span> <span>endforeach</span> <span>?></span></span>
<span><span><span>&lt;/</span>dl</span><span>></span></span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>切换到浏览器，打开：<a href="http://guestbook.local/guestbook" target="_blank" rel="noopener noreferrer">http://guestbook.local/guestbook</a> ，你应该看到这些内容：
![[763079256584fea45654c58d5496433e.png]]</p>
<p>发现没有数据，那就打开 phpMyadmin，插入一些数据再看看，复制下面的sql语句到phpmyadmin并执行：</p>
<div><pre><code><span>INSERT</span> <span>INTO</span> <span><span>`</span>guestbook<span>`</span></span><span>.</span><span><span>`</span>guestbook<span>`</span></span> <span>(</span><span><span>`</span>id<span>`</span></span><span>,</span> <span><span>`</span>email<span>`</span></span><span>,</span> <span><span>`</span>comment<span>`</span></span><span>,</span> <span><span>`</span>created<span>`</span></span><span>)</span> <span>VALUES</span> <span>(</span><span>NULL</span><span>,</span> <span>'noemail@qq.com'</span><span>,</span> <span>'good'</span><span>,</span> <span>CURRENT_TIMESTAMP</span><span>)</span><span>,</span>
<span>(</span><span>NULL</span><span>,</span> <span>'noemail2@qq.com'</span><span>,</span> <span>'good book'</span><span>,</span> <span>CURRENT_TIMESTAMP</span><span>)</span><span>,</span>
<span>(</span><span>NULL</span><span>,</span> <span>'noemail3@qq.com'</span><span>,</span> <span>'good book ok'</span><span>,</span> <span>CURRENT_TIMESTAMP</span><span>)</span><span>;</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div></div></div><p>刷新浏览器，结果如图所示，成功地从数据库读取数据并显示在页面上：
![[52e35508b701d038a5aa6355d79aceeb.png]]</p>
<h2 id="创建-form" tabindex="-1"> 创建 Form</h2>
<p>为了让 guestbook 更有用一些，我们需要一个表单来提交新的评论项。</p>
<p>首先，创建一个 form 类：</p>
<div><pre><code>$ zf create form Guestbook
</code></pre><div aria-hidden="true"><div></div></div></div><p>打开刚创建的 form 类 *application/forms/Guestbook.php *，添加下列代码：</p>
<div><pre><code><span>// application/forms/Guestbook.php</span>
 
<span>class</span> <span>Application_Form_Guestbook</span> <span>extends</span> <span>Zend_Form</span>
<span>{</span>
    <span>public</span> <span>function</span> <span>init</span><span>(</span><span>)</span>
    <span>{</span>
        <span>// Set the method for the display form to POST</span>
        <span>$this</span><span>-></span><span>setMethod</span><span>(</span><span>'post'</span><span>)</span><span>;</span>
 
        <span>// Add an email element</span>
        <span>$this</span><span>-></span><span>addElement</span><span>(</span><span>'text'</span><span>,</span> <span>'email'</span><span>,</span> <span>array</span><span>(</span>
            <span>'label'</span>      <span>=></span> <span>'Your email address:'</span><span>,</span>
            <span>'required'</span>   <span>=></span> <span>true</span><span>,</span>
            <span>'filters'</span>    <span>=></span> <span>array</span><span>(</span><span>'StringTrim'</span><span>)</span><span>,</span>
            <span>'validators'</span> <span>=></span> <span>array</span><span>(</span>
                <span>'EmailAddress'</span><span>,</span>
            <span>)</span>
        <span>)</span><span>)</span><span>;</span>
 
        <span>// Add the comment element</span>
        <span>$this</span><span>-></span><span>addElement</span><span>(</span><span>'textarea'</span><span>,</span> <span>'comment'</span><span>,</span> <span>array</span><span>(</span>
            <span>'label'</span>      <span>=></span> <span>'Please Comment:'</span><span>,</span>
            <span>'required'</span>   <span>=></span> <span>true</span><span>,</span>
            <span>'validators'</span> <span>=></span> <span>array</span><span>(</span>
                <span>array</span><span>(</span><span>'validator'</span> <span>=></span> <span>'StringLength'</span><span>,</span> <span>'options'</span> <span>=></span> <span>array</span><span>(</span><span>0</span><span>,</span> <span>20</span><span>)</span><span>)</span>
                <span>)</span>
        <span>)</span><span>)</span><span>;</span>
 
        <span>// Add a captcha</span>
        <span>$this</span><span>-></span><span>addElement</span><span>(</span><span>'captcha'</span><span>,</span> <span>'captcha'</span><span>,</span> <span>array</span><span>(</span>
            <span>'label'</span>      <span>=></span> <span>'Please enter the 5 letters displayed below:'</span><span>,</span>
            <span>'required'</span>   <span>=></span> <span>true</span><span>,</span>
            <span>'captcha'</span>    <span>=></span> <span>array</span><span>(</span>
                <span>'captcha'</span> <span>=></span> <span>'Figlet'</span><span>,</span>
                <span>'wordLen'</span> <span>=></span> <span>5</span><span>,</span>
                <span>'timeout'</span> <span>=></span> <span>300</span>
            <span>)</span>
        <span>)</span><span>)</span><span>;</span>
 
        <span>// Add the submit button</span>
        <span>$this</span><span>-></span><span>addElement</span><span>(</span><span>'submit'</span><span>,</span> <span>'submit'</span><span>,</span> <span>array</span><span>(</span>
            <span>'ignore'</span>   <span>=></span> <span>true</span><span>,</span>
            <span>'label'</span>    <span>=></span> <span>'Sign Guestbook'</span><span>,</span>
        <span>)</span><span>)</span><span>;</span>
 
        <span>// And finally add some CSRF protection</span>
        <span>$this</span><span>-></span><span>addElement</span><span>(</span><span>'hash'</span><span>,</span> <span>'csrf'</span><span>,</span> <span>array</span><span>(</span>
            <span>'ignore'</span> <span>=></span> <span>true</span><span>,</span>
        <span>)</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>上面代码定义了五个元素：email地址，评论输入框，验证码，提交按钮和CSRF保护字段。</p>
<p>下一步，添加 <code>signAction</code> 到 <code>GuestbookController</code>，它用于处理表单提交页面。使用 zf 命令创建：</p>
<div><pre><code>$ zf create action sign Guestbook
</code></pre><div aria-hidden="true"><div></div></div></div><p>创建了 signAction 和相应的 view script.</p>
<p>然后添加一些代码到 signAction，首先检查是否有POST或GET请求，然后若没有就简单地显示表单，若有，则验证提交的数据，并保存到数据库中</p>
<div><pre><code><span>// application/controllers/GuestbookController.php</span>
 
<span>class</span> <span>GuestbookController</span> <span>extends</span> <span>Zend_Controller_Action</span>
<span>{</span>
    <span>// snipping indexAction()...</span>
 
    <span>public</span> <span>function</span> <span>signAction</span><span>(</span><span>)</span>
    <span>{</span>
        <span>$request</span> <span>=</span> <span>$this</span><span>-></span><span>getRequest</span><span>(</span><span>)</span><span>;</span>
        <span>$form</span>    <span>=</span> <span>new</span> <span>Application_Form_Guestbook</span><span>(</span><span>)</span><span>;</span>
 
        <span>if</span> <span>(</span><span>$this</span><span>-></span><span>getRequest</span><span>(</span><span>)</span><span>-></span><span>isPost</span><span>(</span><span>)</span><span>)</span> <span>{</span>
            <span>if</span> <span>(</span><span>$form</span><span>-></span><span>isValid</span><span>(</span><span>$request</span><span>-></span><span>getPost</span><span>(</span><span>)</span><span>)</span><span>)</span> <span>{</span>
                <span>$comment</span> <span>=</span> <span>new</span> <span>Application_Model_Guestbook</span><span>(</span><span>$form</span><span>-></span><span>getValues</span><span>(</span><span>)</span><span>)</span><span>;</span>
                <span>$mapper</span>  <span>=</span> <span>new</span> <span>Application_Model_GuestbookMapper</span><span>(</span><span>)</span><span>;</span>
                <span>$mapper</span><span>-></span><span>save</span><span>(</span><span>$comment</span><span>)</span><span>;</span>
                <span>return</span> <span>$this</span><span>-></span><span>_helper</span><span>-></span><span>redirector</span><span>(</span><span>'index'</span><span>)</span><span>;</span>
            <span>}</span>
        <span>}</span>
 
        <span>$this</span><span>-></span><span>view</span><span>-></span><span>form</span> <span>=</span> <span>$form</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>当然，还需要编辑一下 view <em>application/views/scripts/guestbook/sign.phtml</em></p>
<div><pre><code><span>&lt;!-- application/views/scripts/guestbook/sign.phtml --></span>
 
Please use the form below to sign our guestbook!
 
<span><span>&lt;?php</span>
<span>$this</span><span>-></span><span>form</span><span>-></span><span>setAction</span><span>(</span><span>$this</span><span>-></span><span>url</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>echo</span> <span>$this</span><span>-></span><span>form</span><span>;</span>
</span></code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id="检查效果" tabindex="-1"> 检查效果</h2>
<p>现在再打开浏览器：<a href="http://quickstart.local/guestbook/sign" target="_blank" rel="noopener noreferrer">http://quickstart.local/guestbook/sign</a> 看看，效果如下：
![[5ec4048767b8ad90747a7f4e6dbeef6c.png]]</p>
<p>填写好表单点击提交，就能看到列表已经更新了：
![[3c45655730e74b79e32a272715038f96.png]]</p>
<p><strong>注：</strong> 上面的验证码部分辨认很困难，其实只要复制一下粘贴到txt文档中就能看清楚了。</p>
<h2 id="恭喜你" tabindex="-1"> 恭喜你！</h2>
<p>你已经成功地使用 Zend Framework 的常用功能建立了一个简单的应用程序。Zend Framework 内置了很多组件，你可以直接用在你的项目中，这些组件包括 web services，搜索，PDF读取和创建，身份认证等等。可以在 <a href="https://framework.zend.com/manual/1.12/en/reference.html" target="_blank" rel="noopener noreferrer">文档参考</a> 中找到更多相关的技术细节。</p>
<blockquote>
<p>英文原文链接：<a href="https://framework.zend.com/manual/1.12/en/learning.html" target="_blank" rel="noopener noreferrer">https://framework.zend.com/manual/1.12/en/learning.html</a></p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>《黑客与画家》——阅读笔记</title>
      <link>https://newzone.top/_posts/2017-02-06-book-hackers-and-painters.html</link>
      <guid>https://newzone.top/_posts/2017-02-06-book-hackers-and-painters.html</guid>
      <source url="https://newzone.top/rss.xml">《黑客与画家》——阅读笔记</source>
      <pubDate>Mon, 06 Feb 2017 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p><img src="/blog/imgs/e483f98b7cb1b0c655e236ea19b3b25d.jpg" alt="" loading="lazy"></p>
<p>很多时候，我们读不下一本书是因为书写得太烂，太矫揉造作，与生活太远，而不是我们不爱读书。当我第一次听说&quot;黑客与画家&quot;这个名字的时候，我的反应和大多数人一样，这是什么鬼东西，但我看到后面的书评说很好看（在一个通常会负面评分的地方），我就尝试看了一下，结果如你所料，我深深地被其中的观点吸引了。我如饥似渴，不断获得共鸣，每一章都像甘霖一样滋润着我的思想。也可能是阮大神翻译得好的原因，语言没有一般的翻译作品那样生硬，读来就像作者跟你谈话一样，不知不觉学到了很多，获得了一点人生经验。下面是我的一些摘抄和感悟。</p>
<p>本书主要谈论了程序员和创业的事情，原书2004年出版，中文版2011年出版的，距现在也有好几年了，但<strong>其中的观点到现在都不过时</strong>。书中的内容并不深奥，不仅仅是写给程序员和创业者的，更是写给普通读者的。作者最大的目的就是，通过本书让普通读者理解我们所处的计算机时代。</p>
<p>下面是部分摘要：</p>
<h3 id="译者序" tabindex="-1"> 译者序</h3>
<ul>
<li>
<p>作者最大的目的就是，通过这本书让普通读者理解我们所处的计算机时代。</p>
</li>
<li>
<p>想要把握这个时代，就必须理解计算机。理解计算机的关键，则是要理解计算机背后的人。表面上这是一个机器的时代，但是实际上机器的设计者决定了我们的时代。程序员的审美决定了你看到的软件界面，程序员的爱好决定了你有什么样的软件可以使用。</p>
</li>
<li>
<p>我们的时代是程序员主导的时代，而伟大的程序员就是黑客。</p>
</li>
<li>
<p>自由软件基金会创始人理查德.斯托尔曼说：“处于兴趣而解决某个难题，不管它有没有用，这就是黑客。”在本书中，黑客就是指最优秀的程序员。</p>
</li>
</ul>
<h3 id="前言" tabindex="-1"> 前言</h3>
<ul>
<li>
<p>你选择什么语言，决定了你能说什么话。编程语言就是程序员的思维方式。因此，编程语言对程序员的思想有巨大的影响。</p>
</li>
<li>
<p>如果你喜欢思考，阅读此书应该会带给你很多乐趣。虽然黑客从外表看上去一般都是呆呆的，但是他们的大脑内部却是一个有趣得让你吃惊的地方。</p>
</li>
</ul>
<h3 id="良好的坏习惯" tabindex="-1"> 良好的坏习惯</h3>
<ul>
<li>经济学里有一条拉弗曲线(Laffer curve)，认为随着税率上升，税收收入会先增加后减少。我认为政府的力量也是如此，随着对公民自由的限制不断上升，政府的力量会先增加后减少。</li>
</ul>
<h3 id="另一条路" tabindex="-1"> 另一条路</h3>
<ul>
<li>
<p>对于开发者来说，互联网软件与桌面软件最显著的区别就是，前者不是一个单独的代码块。它是许多不同种类程序的集合，而不是一个单独的巨大的二进制文件。</p>
</li>
<li>
<p>一部分Viaweb服务器上故意不安装某些程序，因为保证Unix系统安全的关键之一就是不运行那些不需要的东西，降低服务器被侵入的可能性。</p>
</li>
<li>
<p>由于互联网应用程序由多种软件而不是单独一个二进制文件构成，所以可以使用多种编程语言开发。</p>
</li>
<li>
<p>对于互联网软件，没人规定只能使用某些语言开发，因为所有的硬件都控制在你手里，你想要用什么语言，就能用什么语言。</p>
</li>
<li>
<p>互联网软件每时每刻都在被使用。你的代码一上线，就会经历严酷考验。bug很快就会浮出水面。</p>
</li>
<li>
<p>软件公司有时会受到指责，因为他们竟然把发现bug的任务交给用户去完成。说实话，我其实提倡这种做法。对于互联网软件，这样做的好处很多，因为它的bug相对比较少，而且处理周期比较短。我们连续不断地发布新版本，所以bug就比较少。我们能够再现用户遇到的问题，又能在修复后立刻发布，使得用户不用等很长时间，所以大部分bug的处理周期都比较短。我们的bug数量一直不多，以至于没有必要使用一个正式的bug追踪系统。</p>
</li>
<li>
<p>我们的客户支持是免费的，因为我们希望知道用户的反应。如果他们使用时遇到困难，我们希望立刻知道，这样就能再现错误、解决问题、发布新版本。</p>
</li>
<li>
<p>Viaweb的开发人员总是与客服人员保持密切联系。客服人员坐在距离程序员只有9米的地方，知道自己可以随时打断程序员的工作，提交新证实的bug的报告，遇到重大bug，我们就算在开董事会，也会马上回来修改程序。</p>
</li>
<li>
<p>...Vieweb不是这样，在收到使用者的bug报告之后一分钟内，程序员就会对站在身边的客服人员说：“没错，你是对的，这是一个bug.”客服人员从黑客嘴里听到“你是对的”，会感到欢欣鼓舞。客服人员告诉我们发现bug的时候，他们心里怀着期待，就好像小猫想让别人知道自己抓住了一只老鼠一样。这也使得客服人员在判断bug严重性时格外小心，因为这关系到他们的声誉。... 我们被雅虎收购以后，客服人员被移到离程序员很远的地方。直到那时，我们才意识到客户支持就是质量监控，也是某种程度的市场营销。</p>
</li>
<li>
<p>能够即时发布软件，对开发者是一个巨大的激励。步行上班途中，我经常会想哪些地方还需要变动，然后当天就予以实现。...如果软件的新版本要等到一年后才能发布，我就会把大部分新构思束之高阁，至少过上一段时间再来考虑。但是，构思这种东西有一个特点，那就是它会导致更多的构思。...所以，将一个构思束之高阁，不仅意味着延迟它的实现，还意味着延迟所有在实现过程中激发的构思。</p>
</li>
<li>
<p>大公司的做法不是立刻实现新功能，而是先对新功能做一个计划。...我们没有任何计划。我们有改进的想法，但是如果我们想到应该怎么改进，就已经把它实现了。...计划这个词，只是将构思束之高阁的另一种表达方式。只要想到好的构思，我们就立刻着手实现。</p>
</li>
<li>
<p>如果你梦想写完代码，向服务器递交，然后就可以回家，一天工作结束，这在互联网软件身上肯定没有实现的可能。互联网软件是活的，每时每刻都在你的服务器上运行。一个严重的bug影响的可能不是一个用户，而是所有用户。</p>
</li>
<li>
<p>互联网软件能够让你前所未有地了解用户行为。...每个用户的每一次点击你都可以看到。</p>
</li>
<li>
<p>效率对互联网软件至关重要，因为硬件费用由你支付。你的资本支出成本除以服务器所能支持的最大用户数量，就是你为每个用户付出的成本。...如果软件效率足够高，每个用户的硬件成本现在可以接近免费。</p>
</li>
<li>
<p>几乎所有我们的新客户都是通过在线试用发展起来的。我想大多数互联网软件都是如此。</p>
</li>
<li>
<p>一定数量的盗版对软件公司是有好处的。不管你的软件定价多少，有些用户永远都不会购买。如果这样的用户使用盗版，你并没有任何损失。事实上，你反而赚到了，因为你的软件现在多了一个用户，市场影响力就更大了一些，而这个用户可能毕业以后就会出钱购买你的软件。</p>
</li>
<li>
<p>如果某样东西易于购买，你就会多买一些。...互联网软件提供的服务可能是世界上购买起来最方便的东西，如果你试用完demo再买，那就更是如此了。</p>
</li>
<li>
<p>谁是互联网软件的目标客户？Viaweb一开始就把个人和小企业当做目标客户。这些客户决策比较灵活，又需要低成本的新技术，所以他们更愿意尝试新事物。</p>
</li>
<li>
<p>开发互联网软件的创业公司会把与创业有关的每一件事做到极致。只用更少的人、更少的钱，就可以把软件写出来，并且开始运作。你必须打破常规、快速行动，循规蹈矩不可能成功。...许多软件公司的开发者都有一段睡在桌子底下的日子，尤其是在初创期。令人惊恐的是，对于互联网软件来说，这样的日子没有尽头，什么都不足以阻止这种事情成为常态。</p>
</li>
<li>
<p>管理企业其实很简单，只要记住两点就可以了：<strong>做出用户喜欢的产品，保证开支小于收入</strong>。</p>
</li>
</ul>
<h3 id="如何创造财富" tabindex="-1"> 如何创造财富</h3>
<ul>
<li>
<p>如果你想致富，应该怎么做？我认为最好的办法就是自己创业，或者加入创业公司。...创业公司其实就是解决了某个技术难题的小公司。</p>
</li>
<li>
<p>通过创造有价值的东西而致富，这种方法的优势不仅仅在于它是合法的，还在于它更简单。你只需要做出别人需要的东西就可以了。</p>
</li>
<li>
<p>创造财富就是提供别人需要的东西。...财富是最基本的东西。我们需要的东西就是财富，食品、服装、住房、汽车、生活用品、外出旅行等都是财富。即使你没有钱，你也能拥有财富。如果有一台魔法机器，能够按照你的命令变出汽车，为你洗衣做饭，提供其他你想要的东西，那么你就不需要钱了。要是你身处南极洲内陆，再多的钱对你也是无用的，因为没有东西可买，你真正需要的是财富。</p>
</li>
<li>
<p>财富才是你的目标，金钱不是。</p>
</li>
<li>
<p>程序员坐在电脑前就能创造财富。优秀软件本身就是一件有价值的东西。...公司就是许多人聚在一起创造财富的地方，能够制造更多人们需要的东西。当然，有些雇员并不直接参与制造过程，但是程序员却不然。他们真正地面对产品，一行行写代码把产品做出来。所以，在程序员看来，事情再明显不过，财富就是被做出来的，而不是某个想象出来的神秘人物分发的大饼。</p>
</li>
<li>
<p>另一个程序员看来显而易见的事情就是创造财富的速率存在巨大的差异。一个优秀程序员连续工作几个星期可能可以创造价值100万美元的财富。同意的时间内，一个平庸的程序员不仅无法创造财富，甚至还可能减少财富（比如引入了bug）。</p>
</li>
<li>
<p>一个大学毕业生总是想“我需要一份工作”，别人也是这么对他说的，好像变成某个组织的成员是一件多么重要的事情。更直接的表达方式应该是“你需要做一些人们需要的东西”。即使不加入公司，你也能做到。公司不过是一群人在一起工作，共同做出某种人们需要的东西。真正重要的是做出人们需要的东西，而不是加入某个公司。</p>
</li>
<li>
<p>如果一家公司真正能够按照贡献付薪，它将取得巨大成功。许多雇员会更努力地工作。更重要的是，这样一家公司将吸引那些工作特别努力的人，从而超越竞争对手。</p>
</li>
<li>
<p>公司越小，你就越能准确估计每个人的贡献。</p>
</li>
<li>
<p>创业公司不仅仅是十个人的团队，而且是十个同类人的团队。...小团队的优势不在于它本身的小，而在于你可以选择成员。</p>
</li>
</ul>
]]></content:encoded>
      <enclosure url="https://newzone.top/blog/imgs/e483f98b7cb1b0c655e236ea19b3b25d.jpg" type="image/jpeg"/>
    </item>
    <item>
      <title>Visual Studio Code 的 xDebug 扩展如何取消 Notice 自动断点</title>
      <link>https://newzone.top/_posts/2017-09-16-vscode-xdebug-ignore-notice-breakpoint.html</link>
      <guid>https://newzone.top/_posts/2017-09-16-vscode-xdebug-ignore-notice-breakpoint.html</guid>
      <source url="https://newzone.top/rss.xml">Visual Studio Code 的 xDebug 扩展如何取消 Notice 自动断点</source>
      <pubDate>Sat, 16 Sep 2017 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>使用vscode作为php开发的主要工具也有一段时间了，但是有个问题始终存在：那就是使用vscode的xdebug扩展进行调试的时候，每当notice错误就会自动断点；这一点一开始很让我恼火。不过时间长了也能适应，遇到notice错误能改掉的就尽量改掉吧，毕竟notice也算是一种警告错误了，说不定以后升级php版本之后就会变成必须要改的错误也未可知。</p>
<p>适应了之后，使用vscode度过了一段愉快的时光……</p>
<p>好景不长，最近新加入了一个项目，一调试，妈呀，一开始的初始化代码几乎每一行都报错Notice: Undefined index: setseller，每一行都要自动中断一下，必须要按一下继续(F9)才能继续调试下去的样子，吓得我立刻换成了phpstorm压压惊，神奇的是phpstorm遇到notice错误不会中断或停下，直接就运行过去了。</p>
<p>但是，我终究还是不喜欢phpstorm，它的调试也有很多问题，不知道为什么有的错误发生了却不显示，比如数据库连接之类的，要么直接运行完了，要么直接运行完了然后项目挂掉，vscode却能一下子直接在错误处断点，并且很清晰地显示出错误原因。</p>
<p>今天，无事突然想在Google上搜索一下有没有其他人遇到这种notice强制断点的问题，其实一开始遇到该问题的时候已经搜索过好多次，都没有解决问题，导致我还以为大家都认为是notice错误必须要改呢。这次的搜索词是vscode xdebug stop notice breakpoint，这其实是第二次搜索后的优化过的词，第二个结果就解决了我的问题。</p>
<h2 id="解决" tabindex="-1"> 解决</h2>
<p>vscode是可以设置断点的，如下图：</p>
<p>// pic</p>
<p>窗口左下角的就是BREAKPOINTS，用于设置断点的（以前看了那么多次都忽略了），默认选中的everything，也就是说notices,warnings,errors,exceptions都会自动断点。下面怎么做应该不用我说了吧。</p>
<p>参考：<a href="https://github.com/felixfbecker/vscode-php-debug/issues/56" target="_blank" rel="noopener noreferrer">Option to disable automatic exception breakpoints, break only at explicit points · Issue #56 · felixfbecker/vscode-php-debug</a></p>
<p>所以说，这一次解决问题最大的收获是如何准确描述问题，设置合理的搜索关键词以搜到已经想要的结果。</p>
<h2 id="附-phpstorm-和-vs-code-比较" tabindex="-1"> 附：Phpstorm 和 VS Code 比较</h2>
<ul>
<li>VS Code 在调试上的优点：插入不合符的数据类型的数据到数据库，会提示错误信息，但特么 Phpstorm 就没有，真蛋疼。''（2018-06-04，现在已经解决这个问题了，所以用phpstorm来调试没有劣势了）''</li>
<li>PhpStorm 在调式上的优点就是当前行高亮颜色看起来很明显。</li>
<li>PhpStorm 支持PHP代码转到定义，而 VS Code 不支持。。。（装了插件之后就支持了）</li>
<li>VS Code 在配置快捷键以后，调试体验与 Phpstorm 无异。</li>
<li>相比phpstorm，VS code的弱点就是php不支持自动提示和代码跳转，错误检查功能也很弱，写代码有点累。</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>使用 VSCode 调试单个 PHP 文件</title>
      <link>https://newzone.top/_posts/2018-04-19-single-php-script-debug-vscode.html</link>
      <guid>https://newzone.top/_posts/2018-04-19-single-php-script-debug-vscode.html</guid>
      <source url="https://newzone.top/rss.xml">使用 VSCode 调试单个 PHP 文件</source>
      <pubDate>Thu, 19 Apr 2018 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>突然发现是可以使用 VSCode 调试单个 PHP 文件的，今天之前一直没有弄成功，还以为 VSCode 是不能调试单文件呢。这里记录一下今天这个“突然发现”的过程。</p>
<p>开始，是在看 <em>Modern PHP</em> 这本书，看到 &quot;Built-in HTTP Server&quot; 一节，自己测试了启动PHP内置服务器软件的命令：<code>php -S localhost:4000</code>，成功看到浏览器页面显示出相关页面。与 Apache 设置的 Web 网站的效果是一样的。</p>
<p>然后我<strong>突然</strong>就想到，能不能调试在内置服务器中运行的PHP代码呢？此时，我并没有意识到相关的东西。只是在网络上搜索 <strong>xdebug php build-in server</strong> 等关键词，找到了别人已经在 stackoverflow 上提过的<a href="https://stackoverflow.com/questions/27496543/is-it-possible-to-use-xdebug-with-the-built-in-php-test-server" target="_blank" rel="noopener noreferrer">问题</a>，这很正常，通常你能提出的问题，别人可能早已经提过了。这个问题下面有个人给出了一个链接：<a href="http://stevephillips.me/blog/vim-xdebug-and-php-54s-development-server" target="_blank" rel="noopener noreferrer">vim-xdebug-and-php-54s-development-server</a> ，点进去看了一下，部分原文引用如下：</p>
<blockquote>
<p>I recently began using xdebug and vim for debugging and breakpoints. I had been using Eclipse and xdebug, and missed this feature when I switched back to vim.</p>
<p>I found a few articles on the subject, but most were fairly old, missed some key points and didn't mention the 5.4 development server. I used this article as my starting point, but I had to fill in a few gaps.</p>
<ol>
<li>First off, make sure xdebug is installed by checking phpinfo for the section on xdebug. I use the ppa/ondrej repository for managing PHP installations and was able to install xdebug through apt. Installation was as simple as apt-get install php5-xdebug.</li>
<li>Once you have xdebug installed, you'll need to install the vim remote debugger interface. It is a straightforward install - just copy the files into your plugin directory. For me, this was ~/.vim/plugin.</li>
<li>Now, you have to modify your php.ini file in order to allow remote debugging. I also turned on remote autostart so I don't have to deal with the ?XDEBUG_SESSION_START query string on my development server. Since I was using the PHP 5.4 development server, &gt; I had to do some extra work to find out where my php.ini file was located.
Open up phpinfo again and check for the &quot;Loaded Configuration File&quot; entry. When you do this, make sure you access phpinfo as served by the 5.4 development server. If you access a phpinfo served through Apache2, it may not be the same file. For me, the correct file &gt; was the default /etc/php5/cli/php.ini.</li>
</ol>
<p>Add these lines to your php.ini to turn on remote debugging and remote autostart.</p>
<p>xdebug.remote_enable=On
xdebug.remote_autostart=On</p>
<ol start="4">
<li>Now that you've got all of that set up, you can give vim and xdebug a try. Open a file in vim and press F5 to initiate the connection. Then go to your browser and navigate to a page that is being served by the PHP 5.4 development server and go back to vim. If all works well, you should see that a connection has been established. Press enter to begin debugging.</li>
</ol>
</blockquote>
<p>按照他的步骤，第一步安装了 php-xdebug 模块，第二步我使用的是 VSCode 的 xdebug 插件，该插件与 xdebug 进行通信，第三步要修改 php.ini，我打开内置服务器上的 phpinfo() 输出页面，找到加载的 php.ini 文件路径：/etc/php/7.0/cli/php.ini，打开 php.ini 添加了两行配置：</p>
<div><pre><code><span>xdebug.remote_enable</span><span>=</span><span>1</span>
<span>xdebug.remote_autostart</span><span>=</span><span>1</span>
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>保存了之后重启内置PHP服务器。xDebug 就算配置好了。</p>
<p>然后在 VSCode 添加一个调试配置，就像之前调试 Apache Web 网站一样，打开对 xDebug 端口的监听：</p>
<p>test.php 页面设置断点后，打开浏览器，访问：<a href="http://localhost:4000/test.php" target="_blank" rel="noopener noreferrer">http://localhost:4000/test.php</a> ，就能自动运行到断点处了。</p>
<p>至此，已经成功地调试内置PHP服务器中的代码。</p>
<p>但是我自然地想到，这里没有 Apache Web 站点，也能成功调试，原因很显然是安装了 php-xdebug 扩展，修改了 php.ini 的配置，等等！，修改了 php.ini 的配置！<strong>这个 php.ini 的配置是 CLI 下PHP的配置，那么，也就是说，直接命令行执行PHP脚本文件应该也能调试。</strong></p>
<p>于是在 VSCode 中增加了调试单个文件的配置：在 .vscode/launch.json 中增加下面代码：</p>
<div><pre><code>    <span>"configurations"</span><span>:</span> <span>[</span>
        <span>{</span>
            <span>"name"</span><span>:</span> <span>"Launch currently open script"</span><span>,</span>
            <span>"type"</span><span>:</span> <span>"php"</span><span>,</span>
            <span>"request"</span><span>:</span> <span>"launch"</span><span>,</span>
            <span>"program"</span><span>:</span> <span>"${file}"</span><span>,</span>
            <span>"cwd"</span><span>:</span> <span>"${fileDirname}"</span><span>,</span>
            <span>"port"</span><span>:</span> <span>9000</span>
        <span>}</span>
    <span>]</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>这个配置就是 VSCode 的 xDebug 插件的默认生成的调试PHP单文件的配置，其插件文档里面有说明，早就看到了，但是并不能调试，一点调试按钮就运行完了。也就是说，中间缺少了某些东西，这些东西能够让 xDebug 插件捕获到 xDebug 调试进程。现在，增加了 CLI版本的 php.ini 的配置以后，一点调试，果真成功运行到断点。</p>
<p>所以最终实现了，打开一个PHP文件，直接 F5 开启调试，脚本就能运行到断点了。实现了一键调试PHP单文件脚本。</p>
]]></content:encoded>
    </item>
  </channel>
</rss>