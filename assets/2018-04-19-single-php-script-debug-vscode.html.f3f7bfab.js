import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as i,a as n,b as e,d as t,e as o,r}from"./app.26bbaed4.js";const l={},u=n("p",null,"\u7A81\u7136\u53D1\u73B0\u662F\u53EF\u4EE5\u4F7F\u7528 VSCode \u8C03\u8BD5\u5355\u4E2A PHP \u6587\u4EF6\u7684\uFF0C\u4ECA\u5929\u4E4B\u524D\u4E00\u76F4\u6CA1\u6709\u5F04\u6210\u529F\uFF0C\u8FD8\u4EE5\u4E3A VSCode \u662F\u4E0D\u80FD\u8C03\u8BD5\u5355\u6587\u4EF6\u5462\u3002\u8FD9\u91CC\u8BB0\u5F55\u4E00\u4E0B\u4ECA\u5929\u8FD9\u4E2A\u201C\u7A81\u7136\u53D1\u73B0\u201D\u7684\u8FC7\u7A0B\u3002",-1),c=n("p",null,[e("\u5F00\u59CB\uFF0C\u662F\u5728\u770B "),n("em",null,"Modern PHP"),e(' \u8FD9\u672C\u4E66\uFF0C\u770B\u5230 "Built-in HTTP Server" \u4E00\u8282\uFF0C\u81EA\u5DF1\u6D4B\u8BD5\u4E86\u542F\u52A8PHP\u5185\u7F6E\u670D\u52A1\u5668\u8F6F\u4EF6\u7684\u547D\u4EE4\uFF1A'),n("code",null,"php -S localhost:4000"),e("\uFF0C\u6210\u529F\u770B\u5230\u6D4F\u89C8\u5668\u9875\u9762\u663E\u793A\u51FA\u76F8\u5173\u9875\u9762\u3002\u4E0E Apache \u8BBE\u7F6E\u7684 Web \u7F51\u7AD9\u7684\u6548\u679C\u662F\u4E00\u6837\u7684\u3002")],-1),d=n("strong",null,"\u7A81\u7136",-1),h=n("strong",null,"xdebug php build-in server",-1),g={href:"https://stackoverflow.com/questions/27496543/is-it-possible-to-use-xdebug-with-the-built-in-php-test-server",target:"_blank",rel:"noopener noreferrer"},b={href:"http://stevephillips.me/blog/vim-xdebug-and-php-54s-development-server",target:"_blank",rel:"noopener noreferrer"},m=o(`<blockquote><p>I recently began using xdebug and vim for debugging and breakpoints. I had been using Eclipse and xdebug, and missed this feature when I switched back to vim.</p><p>I found a few articles on the subject, but most were fairly old, missed some key points and didn&#39;t mention the 5.4 development server. I used this article as my starting point, but I had to fill in a few gaps.</p><ol><li>First off, make sure xdebug is installed by checking phpinfo for the section on xdebug. I use the ppa/ondrej repository for managing PHP installations and was able to install xdebug through apt. Installation was as simple as apt-get install php5-xdebug.</li><li>Once you have xdebug installed, you&#39;ll need to install the vim remote debugger interface. It is a straightforward install - just copy the files into your plugin directory. For me, this was ~/.vim/plugin.</li><li>Now, you have to modify your php.ini file in order to allow remote debugging. I also turned on remote autostart so I don&#39;t have to deal with the ?XDEBUG_SESSION_START query string on my development server. Since I was using the PHP 5.4 development server, &gt; I had to do some extra work to find out where my php.ini file was located. Open up phpinfo again and check for the &quot;Loaded Configuration File&quot; entry. When you do this, make sure you access phpinfo as served by the 5.4 development server. If you access a phpinfo served through Apache2, it may not be the same file. For me, the correct file &gt; was the default /etc/php5/cli/php.ini.</li></ol><p>Add these lines to your php.ini to turn on remote debugging and remote autostart.</p><p>xdebug.remote_enable=On xdebug.remote_autostart=On</p><ol start="4"><li>Now that you&#39;ve got all of that set up, you can give vim and xdebug a try. Open a file in vim and press F5 to initiate the connection. Then go to your browser and navigate to a page that is being served by the PHP 5.4 development server and go back to vim. If all works well, you should see that a connection has been established. Press enter to begin debugging.</li></ol></blockquote><p>\u6309\u7167\u4ED6\u7684\u6B65\u9AA4\uFF0C\u7B2C\u4E00\u6B65\u5B89\u88C5\u4E86 php-xdebug \u6A21\u5757\uFF0C\u7B2C\u4E8C\u6B65\u6211\u4F7F\u7528\u7684\u662F VSCode \u7684 xdebug \u63D2\u4EF6\uFF0C\u8BE5\u63D2\u4EF6\u4E0E xdebug \u8FDB\u884C\u901A\u4FE1\uFF0C\u7B2C\u4E09\u6B65\u8981\u4FEE\u6539 php.ini\uFF0C\u6211\u6253\u5F00\u5185\u7F6E\u670D\u52A1\u5668\u4E0A\u7684 phpinfo() \u8F93\u51FA\u9875\u9762\uFF0C\u627E\u5230\u52A0\u8F7D\u7684 php.ini \u6587\u4EF6\u8DEF\u5F84\uFF1A/etc/php/7.0/cli/php.ini\uFF0C\u6253\u5F00 php.ini \u6DFB\u52A0\u4E86\u4E24\u884C\u914D\u7F6E\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">xdebug.remote_enable</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">xdebug.remote_autostart</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FDD\u5B58\u4E86\u4E4B\u540E\u91CD\u542F\u5185\u7F6EPHP\u670D\u52A1\u5668\u3002xDebug \u5C31\u7B97\u914D\u7F6E\u597D\u4E86\u3002</p><p>\u7136\u540E\u5728 VSCode \u6DFB\u52A0\u4E00\u4E2A\u8C03\u8BD5\u914D\u7F6E\uFF0C\u5C31\u50CF\u4E4B\u524D\u8C03\u8BD5 Apache Web \u7F51\u7AD9\u4E00\u6837\uFF0C\u6253\u5F00\u5BF9 xDebug \u7AEF\u53E3\u7684\u76D1\u542C\uFF1A</p>`,5),v={href:"http://localhost:4000/test.php",target:"_blank",rel:"noopener noreferrer"},k=o(`<p>\u81F3\u6B64\uFF0C\u5DF2\u7ECF\u6210\u529F\u5730\u8C03\u8BD5\u5185\u7F6EPHP\u670D\u52A1\u5668\u4E2D\u7684\u4EE3\u7801\u3002</p><p>\u4F46\u662F\u6211\u81EA\u7136\u5730\u60F3\u5230\uFF0C\u8FD9\u91CC\u6CA1\u6709 Apache Web \u7AD9\u70B9\uFF0C\u4E5F\u80FD\u6210\u529F\u8C03\u8BD5\uFF0C\u539F\u56E0\u5F88\u663E\u7136\u662F\u5B89\u88C5\u4E86 php-xdebug \u6269\u5C55\uFF0C\u4FEE\u6539\u4E86 php.ini \u7684\u914D\u7F6E\uFF0C\u7B49\u7B49\uFF01\uFF0C\u4FEE\u6539\u4E86 php.ini \u7684\u914D\u7F6E\uFF01<strong>\u8FD9\u4E2A php.ini \u7684\u914D\u7F6E\u662F CLI \u4E0BPHP\u7684\u914D\u7F6E\uFF0C\u90A3\u4E48\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u76F4\u63A5\u547D\u4EE4\u884C\u6267\u884CPHP\u811A\u672C\u6587\u4EF6\u5E94\u8BE5\u4E5F\u80FD\u8C03\u8BD5\u3002</strong></p><p>\u4E8E\u662F\u5728 VSCode \u4E2D\u589E\u52A0\u4E86\u8C03\u8BD5\u5355\u4E2A\u6587\u4EF6\u7684\u914D\u7F6E\uFF1A\u5728 .vscode/launch.json \u4E2D\u589E\u52A0\u4E0B\u9762\u4EE3\u7801\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>    <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Launch currently open script&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;php&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;program&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\${file}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cwd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\${fileDirname}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">9000</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u914D\u7F6E\u5C31\u662F VSCode \u7684 xDebug \u63D2\u4EF6\u7684\u9ED8\u8BA4\u751F\u6210\u7684\u8C03\u8BD5PHP\u5355\u6587\u4EF6\u7684\u914D\u7F6E\uFF0C\u5176\u63D2\u4EF6\u6587\u6863\u91CC\u9762\u6709\u8BF4\u660E\uFF0C\u65E9\u5C31\u770B\u5230\u4E86\uFF0C\u4F46\u662F\u5E76\u4E0D\u80FD\u8C03\u8BD5\uFF0C\u4E00\u70B9\u8C03\u8BD5\u6309\u94AE\u5C31\u8FD0\u884C\u5B8C\u4E86\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4E2D\u95F4\u7F3A\u5C11\u4E86\u67D0\u4E9B\u4E1C\u897F\uFF0C\u8FD9\u4E9B\u4E1C\u897F\u80FD\u591F\u8BA9 xDebug \u63D2\u4EF6\u6355\u83B7\u5230 xDebug \u8C03\u8BD5\u8FDB\u7A0B\u3002\u73B0\u5728\uFF0C\u589E\u52A0\u4E86 CLI\u7248\u672C\u7684 php.ini \u7684\u914D\u7F6E\u4EE5\u540E\uFF0C\u4E00\u70B9\u8C03\u8BD5\uFF0C\u679C\u771F\u6210\u529F\u8FD0\u884C\u5230\u65AD\u70B9\u3002</p><p>\u6240\u4EE5\u6700\u7EC8\u5B9E\u73B0\u4E86\uFF0C\u6253\u5F00\u4E00\u4E2APHP\u6587\u4EF6\uFF0C\u76F4\u63A5 F5 \u5F00\u542F\u8C03\u8BD5\uFF0C\u811A\u672C\u5C31\u80FD\u8FD0\u884C\u5230\u65AD\u70B9\u4E86\u3002\u5B9E\u73B0\u4E86\u4E00\u952E\u8C03\u8BD5PHP\u5355\u6587\u4EF6\u811A\u672C\u3002</p>`,6);function f(_,y){const s=r("ExternalLinkIcon");return p(),i("div",null,[u,c,n("p",null,[e("\u7136\u540E\u6211"),d,e("\u5C31\u60F3\u5230\uFF0C\u80FD\u4E0D\u80FD\u8C03\u8BD5\u5728\u5185\u7F6E\u670D\u52A1\u5668\u4E2D\u8FD0\u884C\u7684PHP\u4EE3\u7801\u5462\uFF1F\u6B64\u65F6\uFF0C\u6211\u5E76\u6CA1\u6709\u610F\u8BC6\u5230\u76F8\u5173\u7684\u4E1C\u897F\u3002\u53EA\u662F\u5728\u7F51\u7EDC\u4E0A\u641C\u7D22 "),h,e(" \u7B49\u5173\u952E\u8BCD\uFF0C\u627E\u5230\u4E86\u522B\u4EBA\u5DF2\u7ECF\u5728 stackoverflow \u4E0A\u63D0\u8FC7\u7684"),n("a",g,[e("\u95EE\u9898"),t(s)]),e("\uFF0C\u8FD9\u5F88\u6B63\u5E38\uFF0C\u901A\u5E38\u4F60\u80FD\u63D0\u51FA\u7684\u95EE\u9898\uFF0C\u522B\u4EBA\u53EF\u80FD\u65E9\u5DF2\u7ECF\u63D0\u8FC7\u4E86\u3002\u8FD9\u4E2A\u95EE\u9898\u4E0B\u9762\u6709\u4E2A\u4EBA\u7ED9\u51FA\u4E86\u4E00\u4E2A\u94FE\u63A5\uFF1A"),n("a",b,[e("vim-xdebug-and-php-54s-development-server"),t(s)]),e(" \uFF0C\u70B9\u8FDB\u53BB\u770B\u4E86\u4E00\u4E0B\uFF0C\u90E8\u5206\u539F\u6587\u5F15\u7528\u5982\u4E0B\uFF1A")]),m,n("p",null,[e("test.php \u9875\u9762\u8BBE\u7F6E\u65AD\u70B9\u540E\uFF0C\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u8BBF\u95EE\uFF1A"),n("a",v,[e("http://localhost:4000/test.php"),t(s)]),e(" \uFF0C\u5C31\u80FD\u81EA\u52A8\u8FD0\u884C\u5230\u65AD\u70B9\u5904\u4E86\u3002")]),k])}const P=a(l,[["render",f],["__file","2018-04-19-single-php-script-debug-vscode.html.vue"]]);export{P as default};
